(function(){var a="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},c="undefined"!==typeof module&&module.exports,b="undefined"!==typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,d=function(){for(var b,c=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),
"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],g=0,d=c.length,e={};g<d;g++)if((b=c[g])&&b[1]in a){for(g=0;g<b.length;g++)e[c[0][g]]=
b[g];return e}return!1}(),g={change:d.fullscreenchange,error:d.fullscreenerror},e={request:function(c){return new Promise(function(g){var f=d.requestFullscreen,e=function(){this.off("change",e);g()}.bind(this);c=c||a.documentElement;if(/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent))c[f]();else c[f](b?Element.ALLOW_KEYBOARD_INPUT:{});this.on("change",e)}.bind(this))},exit:function(){return new Promise(function(b){var c=function(){this.off("change",c);b()}.bind(this);a[d.exitFullscreen]();
this.on("change",c)}.bind(this))},toggle:function(a){return this.isFullscreen?this.exit():this.request(a)},onchange:function(a){this.on("change",a)},onerror:function(a){this.on("error",a)},on:function(b,c){var d=g[b];d&&a.addEventListener(d,c,!1)},off:function(b,c){var d=g[b];d&&a.removeEventListener(d,c,!1)},raw:d};d?(Object.defineProperties(e,{isFullscreen:{get:function(){return!!a[d.fullscreenElement]}},element:{enumerable:!0,get:function(){return a[d.fullscreenElement]}},enabled:{enumerable:!0,
get:function(){return!!a[d.fullscreenEnabled]}}}),c?module.exports=e:window.screenfull=e):c?module.exports=!1:window.screenfull=!1})();var s_iScaleFactor=1,s_iOffsetX,s_iOffsetY,s_bIsIphone=!1;
(function(a){(jQuery.browser=jQuery.browser||{}).mobile=/android|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(ad|hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|tablet|treo|up\.(browser|link)|vodafone|wap|webos|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(a.substr(0,
4))})(navigator.userAgent||navigator.vendor||window.opera);$(window).resize(function(){sizeHandler()});function trace(a){console.log(a)}
function getSize(a){var c=a.toLowerCase(),b=window.document,d=b.documentElement;if(void 0===window["inner"+a])a=d["client"+a];else if(window["inner"+a]!=d["client"+a]){var g=b.createElement("body");g.id="vpw-test-b";g.style.cssText="overflow:scroll";var e=b.createElement("div");e.id="vpw-test-d";e.style.cssText="position:absolute;top:-1000px";e.innerHTML="<style>@media("+c+":"+d["client"+a]+"px){body#vpw-test-b div#vpw-test-d{"+c+":7px!important}}</style>";g.appendChild(e);d.insertBefore(g,b.head);
a=7==e["offset"+a]?d["client"+a]:window["inner"+a];d.removeChild(g)}else a=window["inner"+a];return a}window.addEventListener("orientationchange",onOrientationChange);function onOrientationChange(){window.matchMedia("(orientation: portrait)").matches&&sizeHandler();window.matchMedia("(orientation: landscape)").matches&&sizeHandler()}function getNearestNumber(a,c){if(2>(b=a.length))return b-1;for(var b,d=Math.abs(a[--b]-c);b--&&!(d<(d=Math.abs(a[b]-c))););return b+1}
function isChrome(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}function isIOS(){var a="iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";");for(-1!==navigator.userAgent.toLowerCase().indexOf("iphone")&&(s_bIsIphone=!0);a.length;)if(navigator.platform===a.pop())return!0;return s_bIsIphone=!1}function getIOSWindowHeight(){return document.documentElement.clientWidth/window.innerWidth*window.innerHeight}
function getHeightOfIOSToolbars(){var a=(0===window.orientation?screen.height:screen.width)-getIOSWindowHeight();return 1<a?a:0}function inIframe(){try{return window.self!==window.top}catch(a){return!0}}
function sizeHandler(){window.scrollTo(0,1);if($("#canvas")){var a=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?getIOSWindowHeight():getSize("Height");var c=getSize("Width");_checkOrientation(c,a);var b=Math.min(a/CANVAS_HEIGHT,c/CANVAS_WIDTH),d=CANVAS_WIDTH*b;b*=CANVAS_HEIGHT;if(b<a){var g=a-b;b+=g;d+=CANVAS_WIDTH/CANVAS_HEIGHT*g}else d<c&&(g=c-d,d+=g,b+=CANVAS_HEIGHT/CANVAS_WIDTH*g);g=a/2-b/2;var e=c/2-d/2,f=CANVAS_WIDTH/d;if(e*f<-EDGEBOARD_X||g*f<-EDGEBOARD_Y)b=Math.min(a/(CANVAS_HEIGHT-2*
EDGEBOARD_Y),c/(CANVAS_WIDTH-2*EDGEBOARD_X)),d=CANVAS_WIDTH*b,b*=CANVAS_HEIGHT,g=(a-b)/2,e=(c-d)/2,f=CANVAS_WIDTH/d;s_iOffsetX=-1*e*f;s_iOffsetY=-1*g*f;0<=g&&(s_iOffsetY=0);0<=e&&(s_iOffsetX=0);null!==s_oInterface&&s_oInterface.refreshButtonPos(s_iOffsetX,s_iOffsetY);null!==s_oMenu&&s_oMenu.refreshButtonPos(s_iOffsetX,s_iOffsetY);null!==s_oSelectPlayers&&s_oSelectPlayers.refreshButtonPos(s_iOffsetX,s_iOffsetY);null!==s_oLevelMenu&&s_oLevelMenu.refreshButtonPos(s_iOffsetX,s_iOffsetY);s_bIsIphone?(canvas=
document.getElementById("canvas"),s_oStage.canvas.width=2*d,s_oStage.canvas.height=2*b,canvas.style.width=d+"px",canvas.style.height=b+"px",a=Math.min(d/CANVAS_WIDTH,b/CANVAS_HEIGHT),s_iScaleFactor=2*a,s_oStage.scaleX=s_oStage.scaleY=2*a):s_bMobile||isChrome()?($("#canvas").css("width",d+"px"),$("#canvas").css("height",b+"px")):(s_oStage.canvas.width=d,s_oStage.canvas.height=b,s_iScaleFactor=Math.min(d/CANVAS_WIDTH,b/CANVAS_HEIGHT),s_oStage.scaleX=s_oStage.scaleY=s_iScaleFactor);0>g?$("#canvas").css("top",
g+"px"):$("#canvas").css("top","0px");$("#canvas").css("left",e+"px");fullscreenHandler()}}
function _checkOrientation(a,c){s_bMobile&&ENABLE_CHECK_ORIENTATION&&(a>c?"landscape"===$(".orientation-msg-container").attr("data-orientation")?($(".orientation-msg-container").css("display","none"),s_oMain.startUpdate()):($(".orientation-msg-container").css("display","block"),s_oMain.stopUpdate()):"portrait"===$(".orientation-msg-container").attr("data-orientation")?($(".orientation-msg-container").css("display","none"),s_oMain.startUpdate()):($(".orientation-msg-container").css("display","block"),
s_oMain.stopUpdate()))}function playSound(a,c,b){if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)s_aSounds[a].play(),s_aSounds[a].volume(c),s_aSounds[a].loop(b);return null}function stopSound(a){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[a].stop()}function setVolume(a,c){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[a].volume(c)}function setMute(a,c){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[a].mute(c)}
function createBitmap(a,c,b){var d=new createjs.Bitmap(a),g=new createjs.Shape;c&&b?g.graphics.beginFill("#fff").drawRect(0,0,c,b):g.graphics.beginFill("#ff0").drawRect(0,0,a.width,a.height);d.hitArea=g;return d}function createSprite(a,c,b,d,g,e){a=null!==c?new createjs.Sprite(a,c):new createjs.Sprite(a);c=new createjs.Shape;c.graphics.beginFill("#000000").drawRect(-b,-d,g,e);a.hitArea=c;return a}function pad(a,c,b){a+="";return a.length>=c?a:Array(c-a.length+1).join(b||"0")+a}
function randomSign(){return.5>=Math.random()?1:-1}function randomFloatBetween(a,c,b){"undefined"===typeof b&&(b=2);return parseFloat(Math.min(a+Math.random()*(c-a),c).toFixed(b))}function rotateVector2D(a,c){var b=c.getX()*Math.cos(a)+c.getY()*Math.sin(a),d=c.getX()*-Math.sin(a)+c.getY()*Math.cos(a);c.set(b,d)}function tweenVectorsOnX(a,c,b){return a+b*(c-a)}function shuffle(a){for(var c=a.length,b,d;0!==c;)d=Math.floor(Math.random()*c),--c,b=a[c],a[c]=a[d],a[d]=b;return a}
function centerBetweenPointsV2(a,c){var b=new CVector2;b.set(.5*(a.getX()+c.getX()),.5*(a.getY()+c.getY()));return b}function bubbleSort(a){do{var c=!1;for(var b=0;b<a.length-1;b++)a[b]>a[b+1]&&(c=a[b],a[b]=a[b+1],a[b+1]=c,c=!0)}while(c)}function compare(a,c){return a.index>c.index?-1:a.index<c.index?1:0}function easeLinear(a,c,b,d){return b*a/d+c}function easeInQuad(a,c,b,d){return b*(a/=d)*a+c}function easeInSine(a,c,b,d){return-b*Math.cos(a/d*(Math.PI/2))+b+c}
function easeInCubic(a,c,b,d){return b*(a/=d)*a*a+c}function getTrajectoryPoint(a,c){var b=new createjs.Point,d=(1-a)*(1-a),g=a*a;b.x=d*c.start.x+2*(1-a)*a*c.traj.x+g*c.end.x;b.y=d*c.start.y+2*(1-a)*a*c.traj.y+g*c.end.y;return b}function formatTime(a){a/=1E3;var c=Math.floor(a/60);a=parseFloat(a-60*c).toFixed(1);var b="";b=10>c?b+("0"+c+":"):b+(c+":");return 10>a?b+("0"+a):b+a}function degreesToRadians(a){return a*Math.PI/180}
function checkRectCollision(a,c){var b=getBounds(a,.9);var d=getBounds(c,.98);return calculateIntersection(b,d)}function calculateIntersection(a,c){var b,d,g,e;var f=a.x+(b=a.width/2);var k=a.y+(d=a.height/2);var n=c.x+(g=c.width/2);var h=c.y+(e=c.height/2);f=Math.abs(f-n)-(b+g);k=Math.abs(k-h)-(d+e);return 0>f&&0>k?(f=Math.min(Math.min(a.width,c.width),-f),k=Math.min(Math.min(a.height,c.height),-k),{x:Math.max(a.x,c.x),y:Math.max(a.y,c.y),width:f,height:k,rect1:a,rect2:c}):null}
function getBounds(a,c){var b={x:Infinity,y:Infinity,width:0,height:0};if(a instanceof createjs.Container){b.x2=-Infinity;b.y2=-Infinity;var d=a.children,g=d.length,e;for(e=0;e<g;e++){var f=getBounds(d[e],1);f.x<b.x&&(b.x=f.x);f.y<b.y&&(b.y=f.y);f.x+f.width>b.x2&&(b.x2=f.x+f.width);f.y+f.height>b.y2&&(b.y2=f.y+f.height)}Infinity==b.x&&(b.x=0);Infinity==b.y&&(b.y=0);Infinity==b.x2&&(b.x2=0);Infinity==b.y2&&(b.y2=0);b.width=b.x2-b.x;b.height=b.y2-b.y;delete b.x2;delete b.y2}else{if(a instanceof createjs.Bitmap){g=
a.sourceRect||a.image;e=g.width*c;var k=g.height*c}else if(a instanceof createjs.Sprite)if(a.spriteSheet._frames&&a.spriteSheet._frames[a.currentFrame]&&a.spriteSheet._frames[a.currentFrame].image){g=a.spriteSheet.getFrame(a.currentFrame);e=g.rect.width;k=g.rect.height;d=g.regX;var n=g.regY}else b.x=a.x||0,b.y=a.y||0;else b.x=a.x||0,b.y=a.y||0;d=d||0;e=e||0;n=n||0;k=k||0;b.regX=d;b.regY=n;g=a.localToGlobal(0-d,0-n);f=a.localToGlobal(e-d,k-n);e=a.localToGlobal(e-d,0-n);d=a.localToGlobal(0-d,k-n);b.x=
Math.min(Math.min(Math.min(g.x,f.x),e.x),d.x);b.y=Math.min(Math.min(Math.min(g.y,f.y),e.y),d.y);b.width=Math.max(Math.max(Math.max(g.x,f.x),e.x),d.x)-b.x;b.height=Math.max(Math.max(Math.max(g.y,f.y),e.y),d.y)-b.y}return b}function NoClickDelay(a){this.element=a;window.Touch&&this.element.addEventListener("touchstart",this,!1)}function shuffle(a){for(var c=a.length,b,d;0<c;)d=Math.floor(Math.random()*c),c--,b=a[c],a[c]=a[d],a[d]=b;return a}
NoClickDelay.prototype={handleEvent:function(a){switch(a.type){case "touchstart":this.onTouchStart(a);break;case "touchmove":this.onTouchMove(a);break;case "touchend":this.onTouchEnd(a)}},onTouchStart:function(a){a.preventDefault();this.moved=!1;this.element.addEventListener("touchmove",this,!1);this.element.addEventListener("touchend",this,!1)},onTouchMove:function(a){this.moved=!0},onTouchEnd:function(a){this.element.removeEventListener("touchmove",this,!1);this.element.removeEventListener("touchend",
this,!1);if(!this.moved){a=document.elementFromPoint(a.changedTouches[0].clientX,a.changedTouches[0].clientY);3==a.nodeType&&(a=a.parentNode);var c=document.createEvent("MouseEvents");c.initEvent("click",!0,!0);a.dispatchEvent(c)}}};
(function(){function a(a){var b={focus:"visible",focusin:"visible",pageshow:"visible",blur:"hidden",focusout:"hidden",pagehide:"hidden"};a=a||window.event;a.type in b?document.body.className=b[a.type]:(document.body.className=this[c]?"hidden":"visible","hidden"===document.body.className?s_oMain.stopUpdate():s_oMain.startUpdate())}var c="hidden";c in document?document.addEventListener("visibilitychange",a):(c="mozHidden")in document?document.addEventListener("mozvisibilitychange",a):(c="webkitHidden")in
document?document.addEventListener("webkitvisibilitychange",a):(c="msHidden")in document?document.addEventListener("msvisibilitychange",a):"onfocusin"in document?document.onfocusin=document.onfocusout=a:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=a})();function ctlArcadeResume(){null!==s_oMain&&s_oMain.startUpdate()}function ctlArcadePause(){null!==s_oMain&&s_oMain.stopUpdate()}
function getParamValue(a){for(var c=window.location.search.substring(1).split("&"),b=0;b<c.length;b++){var d=c[b].split("=");if(d[0]==a)return d[1]}}String.prototype.format=function(){for(var a=this,c=arguments.length;c--;)a=a.replace(new RegExp("\\{"+c+"\\}","gm"),arguments[c]);return a};function radiansToDegree(a){return 180/Math.PI*a}function distance(a,c){var b=a.getX()-c.getX(),d=a.getY()-c.getY();return Math.sqrt(b*b+d*d)}
function fixEnemyTremble(a,c){var b=!1;-5<a.getX()-c.m_pCenter().getX()&&5>a.getX()-c.m_pCenter().getX()&&(b=!0);return b}function distanceBetween2Points(a,c,b,d){return Math.sqrt(Math.pow(b-a,2)+Math.pow(d-c,2))}function distanceBetween2PointsV2(a,c,b,d){return Math.pow(b-a,2)+Math.pow(d-c,2)}function collideEdgeWithCircle(a,c,b){a=closestPointOnLine(a.getPointA(),a.getPointB(),c);c=distanceV2(c,a);return b<c?null:{distance:c,closest_point:a}}
function closestPointOnLine(a,c,b){var d=new CVector2,g=new CVector2;d.setV(a);g.setV(c);var e=new CVector2;e.setV(b);e.subtract(a);b=new CVector2;b.setV(c);b.subtract(a);b.normalize();e=dotProductV2(b,e);if(0>=e)return d;if(e>=distanceV2(a,c))return g;b.scalarProduct(e);b.addV(a);return b}function dotProductV2(a,c){return a.getX()*c.getX()+a.getY()*c.getY()}function distanceV2(a,c){return Math.sqrt((c.getX()-a.getX())*(c.getX()-a.getX())+(c.getY()-a.getY())*(c.getY()-a.getY()))}
function reflectVectorV2(a,c){var b=dotProductV2(a,c);a.set(a.getX()-2*b*c.getX(),a.getY()-2*b*c.getY());return a}function angleBetweenVectors(a,c){var b=Math.acos(dotProductV2(a,c)/(a.length()*c.length()));return 1==isNaN(b)?0:b}function distanceV2WithoutSQRT(a,c){return(c.getX()-a.getX())*(c.getX()-a.getX())+(c.getY()-a.getY())*(c.getY()-a.getY())}
function classifySphere(a,c,b,d){a=c.getX()*a.getX()+c.getY()*a.getY()+planeDistance(c,b);return Math.abs(a)<d?0<=a?"INTERSECT FRONT":"INTERSECT BEHIND":a>=d?"FRONT":"BEHIND"}function planeDistance(a,c){return-(a.getX()*c.getX()+a.getY()*c.getY())}function saveItem(a,c){s_bStorageAvailable&&localStorage.setItem(a,c)}function getItem(a){return s_bStorageAvailable?localStorage.getItem(a):null}
function fullscreenHandler(){ENABLE_FULLSCREEN&&screenfull.enabled&&(s_bFullscreen=screen.height<window.innerHeight+3&&screen.height>window.innerHeight-3?!0:!1,null!==s_oInterface&&s_oInterface.resetFullscreenBut(),null!==s_oMenu&&s_oMenu.resetFullscreenBut(),null!==s_oSelectPlayers&&s_oSelectPlayers.resetFullscreenBut(),null!==s_oLevelMenu&&s_oLevelMenu.resetFullscreenBut())}
if(screenfull.enabled)screenfull.on("change",function(){s_bFullscreen=screenfull.isFullscreen;null!==s_oInterface&&s_oInterface.resetFullscreenBut();null!==s_oMenu&&s_oMenu.resetFullscreenBut();null!==s_oSelectPlayers&&s_oSelectPlayers.resetFullscreenBut();null!==s_oLevelMenu&&s_oLevelMenu.resetFullscreenBut()});
function CBonusMalus(a,c,b,d){var g,e,f,k,n,h,l,m,p,q,r,t;this.init=function(a,b,c,d){g=d;e=new createjs.Container;g.addChild(e);f=a;k=b;n=c;t=0;switch(n){case LARGE_BONUS:a=s_oSpriteLibrary.getSprite("large_bonus");var u={images:[a],frames:{width:115,height:95,regX:57.5,regY:47.5},animations:{idle:[0,9,"idle",.7]}};q=a.width/5/2;break;case SHORT_MALUS:a=s_oSpriteLibrary.getSprite("short_malus");u={images:[a],frames:{width:130,height:95,regX:65,regY:47.5},animations:{idle:[0,9,"idle",.7]}};q=a.width/
5/2;break;case SUPER_SHOT:a=s_oSpriteLibrary.getSprite("super_shot");u={images:[a],frames:{width:95,height:95,regX:47.5,regY:47.5},animations:{idle:[0,8,"idle",.7]}};q=a.width/3/2;break;case DOUBLE_BALLS:a=s_oSpriteLibrary.getSprite("double_balls");u={images:[a],frames:{width:95,height:95,regX:47.5,regY:47.5},animations:{idle:[0,8,"idle",.7]}};q=a.width/3/2;break;case CRAZY_BALL:a=s_oSpriteLibrary.getSprite("crazy_ball"),u={images:[a],frames:{width:95,height:95,regX:47.5,regY:47.5},animations:{idle:[0,
9,"idle",.7]}},q=a.width/5/2}a=new createjs.SpriteSheet(u);h=createSprite(a,"idle",u.frames.regX,u.frames.regY,u.frames.width,u.frames.height);e.addChild(h);e.x=f;e.y=k;l=new CVector2;l.set(e.x,e.y);p=new CVector2;p.set(0,0);r=.5*q;m=new CVector2(0,0)};this.unload=function(){g.removeChild(e)};this.getRadius=function(){return q};this.setPos=function(a){l.setV(a)};this.getHalfRadius=function(){return r};this.getX=function(){return e.x};this.getY=function(){return e.y};this.getType=function(){return n};
this.vCurForce=function(){return m};this.vPos=function(){return l};this.updateSpritePosition=function(){e.x=l.getX();e.y=l.getY()};this.checkUnload=function(){t+=s_iTimeElaps;if(7E3<=t){t=0;var a=this;(new createjs.Tween.get(h)).to({alpha:0},500).call(function(){a.unload();s_oGame.onUnloadPowerUP()})}};this.init(a,c,b,d)}
function CBallTrajectory(a){var c=MS_SPAWN_TIME_BALL_TRAJECTORY,b,d;this._init=function(){b=new createjs.Container;a.addChild(b);d=[];for(var c=0;c<BALL_TRAJ_INSTANCE;c++)d.push(this.createBallTrajectory({x:0,y:0}))};this.createBallTrajectory=function(a){var c=s_oSpriteLibrary.getSprite("ball_trajectory"),g=createBitmap(c);g.x=a.x;g.y=a.y;g.regX=.5*c.width;g.regY=.5*c.height;g.visible=!1;b.addChild(g);return g};this.chooseATraj=function(a){for(var b=0;b<d.length;b++)if(!d[b].visible){this.setTrajectory(b,
a);return}this.setTrajectory(0,a)};this.setTrajectory=function(a,b){var c=.5+.5*Math.random();d[a].x=b.getX();d[a].y=b.getY();d[a].visible=!0;d[a].alpha=1;d[a].scaleX=c;d[a].scaleY=c;createjs.Tween.get(d[a],{override:!0}).to({alpha:0},MS_TIME_FADE_BALL_TRAJ).set({visible:!1});createjs.Tween.get(d[a],{override:!1}).to({scaleX:.3,scaleY:.3},MS_TIME_FADE_BALL_TRAJ)};this.unload=function(){a.removeChild(b);return null};this.update=function(a){0>c?(this.chooseATraj(a),c=MS_SPAWN_TIME_BALL_TRAJECTORY):
c-=s_iTimeElaps};this._init();return this}
function CSpriteLibrary(){var a,c,b,d,g,e;this.init=function(f,k,n){b=c=0;d=f;g=k;e=n;a={}};this.addSprite=function(b,d){a.hasOwnProperty(b)||(a[b]={szPath:d,oSprite:new Image},c++)};this.getSprite=function(b){return a.hasOwnProperty(b)?a[b].oSprite:null};this._onSpritesLoaded=function(){g.call(e)};this._onSpriteLoaded=function(){d.call(e);++b==c&&this._onSpritesLoaded()};this.loadSprites=function(){for(var b in a)a[b].oSprite.oSpriteLibrary=this,a[b].oSprite.onload=function(){this.oSpriteLibrary._onSpriteLoaded()},
a[b].oSprite.src=a[b].szPath};this.getNumSprites=function(){return c}}
var TEXT_PRELOADER_CONTINUE="START",TEXT_SCORE="SCORE",TEXT_ARE_SURE="ARE YOU SURE?",TEXT_GAMEOVER="CONGRATULATION! YOU WON THIS MATCH!",TEXT_LOSE="PLAYER ",TEXT_LOSE2=" WON THIS MATCH",TEXT_WIN_2PLAYERS="PLAYER ",TEXT_WIN_2PLAYERS_2=" WON THIS MATCH",TEXT_SELECT_PLAYERS_MENU="SELECT PLAYERS NUMBER",TEXT_SELECT_LEVEL="SELECT A LEVEL",TEXT_TUTORIAL_1="PRESS THESE BUTTONS TO MOVE YOUR PADDLE LEFT OR RIGHT, OR JUST MOVE THE MOUSE",TEXT_TUTORIAL_1_2="PRESS THESE BUTTONS TO MOVE YOUR PADDLE LEFT OR RIGHT",
TEXT_TUTORIAL_1_3="TOUCH LEFT OR RIGHT SIDES OF THE SCREEN TO MOVE YOUR PADDLE",TEXT_TUTORIAL_2="THE AIM OF THE GAME IS TO SCORE THE GREATEST NUMBER OF GOALS. GOOD LUCK!!!",TEXT_TUTORIAL_3="RE SPIN THE BALL WHEN IT'S POSSIBLE JUST PRESSING THE SPACEBAR OR THIS BUTTON",TEXT_TUTORIAL_4="RE SPIN THE BALL WHEN IT'S POSSIBLE JUST PRESSING THIS BUTTON",TEXT_TUTORIAL_5="THE SPECIAL POWER-UPS WILL MIX THE GAME UP! DISCOVER 'EM ALL! ",TEXT_TUTORIAL_PLAYER="PLAYER",TEXT_PAUSE="PAUSE",TEXT_EASY="EASY",TEXT_MEDIUM=
"MEDIUM",TEXT_HARD="HARD",TEXT_CLASSIC_MODE="CLASSIC\nMODE",TEXT_ADVANCED_MODE="BOOSTED\nMODE",TEXT_SHARE_IMAGE="200x200.jpg",TEXT_SHARE_TITLE="Congratulations!",TEXT_SHARE_MSG1="You collected <strong>",TEXT_SHARE_MSG2=" points</strong>!<br><br>Share your score with your friends!",TEXT_SHARE_SHARE1="My score is ",TEXT_SHARE_SHARE2=" points! Can you do better";
function CTextButton(a,c,b,d,g,e,f,k,n){var h,l,m,p,q,r,t,v,B=[],y,u;this._init=function(a,b,c,d,g,e,f){h=!1;p=[];q=[];v=createBitmap(c);l=c.width;m=c.height;t=new createjs.Text(d,f+"px "+g,e);t.textAlign="center";d=t.getBounds();t.x=c.width/2;t.y=n&&"bottom"===n?3*((c.height-d.height)/2-5)+50:(c.height-d.height)/2-5-50;r=new createjs.Container;r.x=a;r.y=b;r.regX=c.width/2;r.regY=c.height/2;r.cursor="pointer";r.addChild(v,t);C.addChild(r);this._initListener()};this.unload=function(){r.off("mousedown",
y);r.off("pressup",u);C.removeChild(r)};this.setVisible=function(a){r.visible=a};this.enable=function(){h=!1;v.filters=[];v.cache(0,0,l,m)};this.disable=function(){h=!0;var a=(new createjs.ColorMatrix).adjustSaturation(-100).adjustBrightness(40);v.filters=[new createjs.ColorMatrixFilter(a)];v.cache(0,0,l,m)};this._initListener=function(){oParent=this;y=r.on("mousedown",this.buttonDown);u=r.on("pressup",this.buttonRelease)};this.addEventListener=function(a,b,c){p[a]=b;q[a]=c};this.addEventListenerWithParams=
function(a,b,c,d){p[a]=b;q[a]=c;B=d};this.buttonRelease=function(){h||(playSound("press_button",1,!1),r.scaleX=1,r.scaleY=1,p[ON_MOUSE_UP]&&p[ON_MOUSE_UP].call(q[ON_MOUSE_UP],B))};this.buttonDown=function(){h||(r.scaleX=.9,r.scaleY=.9,p[ON_MOUSE_DOWN]&&p[ON_MOUSE_DOWN].call(q[ON_MOUSE_DOWN],B))};this.setPosition=function(a,b){r.x=a;r.y=b};this.changeText=function(a){t.text=a};this.setX=function(a){r.x=a};this.setY=function(a){r.y=a};this.getButtonImage=function(){return r};this.getX=function(){return r.x};
this.getY=function(){return r.y};this.setTextY=function(a){t.y=a};var C=k;this._init(a,c,b,d,g,e,f);return this}
function CPreloader(){var a,c,b,d,g,e,f,k,n,h;this._init=function(){s_oSpriteLibrary.init(this._onImagesLoaded,this._onAllImagesLoaded,this);s_oSpriteLibrary.addSprite("progress_bar","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/progress_bar.png");s_oSpriteLibrary.addSprite("200x200","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/200x200.jpg");s_oSpriteLibrary.addSprite("but_start","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/but_start.png");s_oSpriteLibrary.loadSprites();h=new createjs.Container;s_oStage.addChild(h)};this.unload=function(){h.removeAllChildren();n.unload()};this._onImagesLoaded=function(){};
this._onAllImagesLoaded=function(){this.attachSprites();s_oMain.preloaderReady()};this.attachSprites=function(){var l=new createjs.Shape;l.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);h.addChild(l);l=s_oSpriteLibrary.getSprite("200x200");f=createBitmap(l);f.regX=.5*l.width;f.regY=.5*l.height;f.x=CANVAS_WIDTH/2;f.y=CANVAS_HEIGHT/2-180;h.addChild(f);k=new createjs.Shape;k.graphics.beginFill("rgba(0,0,0,0.01)").drawRoundRect(f.x-100,f.y-100,200,200,10);h.addChild(k);f.mask=k;
l=s_oSpriteLibrary.getSprite("progress_bar");d=createBitmap(l);d.x=CANVAS_WIDTH/2-l.width/2;d.y=CANVAS_HEIGHT/2+50;h.addChild(d);a=l.width;c=l.height;g=new createjs.Shape;g.graphics.beginFill("rgba(0,0,0,0.01)").drawRect(d.x,d.y,1,c);h.addChild(g);d.mask=g;b=new createjs.Text("","30px "+PRIMARY_FONT,"#FFF");b.x=CANVAS_WIDTH/2;b.y=CANVAS_HEIGHT/2+100;b.textBaseline="alphabetic";b.textAlign="center";h.addChild(b);l=s_oSpriteLibrary.getSprite("but_start");n=new CTextButton(CANVAS_WIDTH/2,CANVAS_HEIGHT/
2,l,TEXT_PRELOADER_CONTINUE,"Arial","#4ce700","bold 50",h);n.addEventListener(ON_MOUSE_UP,this._onButStartRelease,this);n.setVisible(!1);n.setTextY(24);e=new createjs.Shape;e.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);h.addChild(e);createjs.Tween.get(e).to({alpha:0},500).call(function(){createjs.Tween.removeTweens(e);h.removeChild(e)})};this._onButStartRelease=function(){s_oMain._onRemovePreloader()};this.refreshLoader=function(e){b.text=e+"%";100===e&&(n.setVisible(!0),
b.visible=!1,d.visible=!1);g.graphics.clear();e=Math.floor(e*a/100);g.graphics.beginFill("rgba(0,0,0,0.01)").drawRect(d.x,d.y,e,c)};this._init()}
function CMain(a){var c,b=0,d=0,g=STATE_LOADING,e,f,k;this.initContainer=function(){s_oCanvas=document.getElementById("canvas");s_oStage=new createjs.Stage(s_oCanvas);s_oStage.preventSelection=!1;createjs.Touch.enable(s_oStage);s_bMobile=jQuery.browser.mobile;!1===s_bMobile&&(s_oStage.enableMouseOver(FPS),$("body").on("contextmenu","#canvas",function(a){return!1}));s_iPrevTime=(new Date).getTime();createjs.Ticker.addEventListener("tick",this._update);createjs.Ticker.framerate=FPS;navigator.userAgent.match(/Windows Phone/i)&&
(DISABLE_SOUND_MOBILE=!0);s_oSpriteLibrary=new CSpriteLibrary;e=new CPreloader};this.preloaderReady=function(){s_oMain._loadImages();!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_oMain._initSounds();c=!0};this.soundLoaded=function(){b++;e.refreshLoader(Math.floor(b/d*100))};this._initSounds=function(){var a=[];a.push({path:"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sounds/soundtrack.mp3",filename:"soundtrack",loop:!0,volume:1,ingamename:"soundtrack"});a.push({path:"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sounds/press_button.mp3",filename:"press_button",loop:!0,volume:1,ingamename:"press_button"});a.push({path:"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sounds/power_up_bonus.mp3",
filename:"power_up_bonus",loop:!0,volume:1,ingamename:"power_up_bonus"});a.push({path:"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sounds/power_up_malus.mp3",filename:"power_up_malus",loop:!0,volume:1,ingamename:"power_up_malus"});a.push({path:"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sounds/ball_wall.mp3",filename:"ball_wall",loop:!0,volume:1,ingamename:"ball_wall"});a.push({path:"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sounds/ball_kick.mp3",filename:"ball_kick",loop:!0,volume:1,ingamename:"ball_kick"});a.push({path:"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sounds/goal_player.mp3",filename:"goal_player",loop:!0,volume:1,ingamename:"goal_player"});a.push({path:"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sounds/goal_pc.mp3",filename:"goal_pc",loop:!0,volume:1,ingamename:"goal_pc"});
a.push({path:"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sounds/game_over.mp3",filename:"game_over",loop:!0,volume:1,ingamename:"game_over"});a.push({path:"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sounds/win_panel.mp3",filename:"win_panel",loop:!0,volume:1,ingamename:"win_panel"});a.push({path:"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sounds/explosion.mp3",filename:"explosion",loop:!0,volume:1,ingamename:"explosion"});d+=a.length;s_aSounds=[];for(var b=0;b<a.length;b++)s_aSounds[a[b].ingamename]=new Howl({src:[a[b].path+a[b].filename+".mp3"],autoplay:!1,preload:!0,loop:a[b].loop,volume:a[b].volume,onload:s_oMain.soundLoaded})};this._loadImages=function(){s_oSpriteLibrary.init(this._onImagesLoaded,
this._onAllImagesLoaded,this);s_oSpriteLibrary.addSprite("msg_box","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/msg_box.png");s_oSpriteLibrary.addSprite("ctl_logo","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/ctl_logo.png");s_oSpriteLibrary.addSprite("but_info","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/but_info.png");s_oSpriteLibrary.addSprite("but_yes_big","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/but_yes_big.png");s_oSpriteLibrary.addSprite("bg_menu","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/bg_menu.jpg");s_oSpriteLibrary.addSprite("bg_game","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/bg_game.jpg");s_oSpriteLibrary.addSprite("but_exit","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/but_exit.png");s_oSpriteLibrary.addSprite("audio_icon",
"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/audio_icon.png");s_oSpriteLibrary.addSprite("but_fullscreen","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/but_fullscreen.png");s_oSpriteLibrary.addSprite("ball","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/ball.png");s_oSpriteLibrary.addSprite("but_p1","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/but_p1.png");s_oSpriteLibrary.addSprite("but_p2","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/but_p2.png");s_oSpriteLibrary.addSprite("but_mode","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/but_mode.png");s_oSpriteLibrary.addSprite("player_red","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/player_red.png");s_oSpriteLibrary.addSprite("player_blue","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/player_blue.png");s_oSpriteLibrary.addSprite("player_blue_boosted",
"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/player_blue_boosted.png");s_oSpriteLibrary.addSprite("player_red_boosted","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/player_red_boosted.png");s_oSpriteLibrary.addSprite("but_restart","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/but_restart.png");s_oSpriteLibrary.addSprite("but_home","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/but_home.png");s_oSpriteLibrary.addSprite("but_easy","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/but_easy.png");s_oSpriteLibrary.addSprite("but_medium","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/but_medium.png");s_oSpriteLibrary.addSprite("but_hard","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/but_hard.png");s_oSpriteLibrary.addSprite("but_next","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/but_next.png");
s_oSpriteLibrary.addSprite("but_kickoff","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/but_kickoff.png");s_oSpriteLibrary.addSprite("key_w","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/key_w.png");s_oSpriteLibrary.addSprite("key_s","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/key_s.png");s_oSpriteLibrary.addSprite("key_up","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/key_up.png");s_oSpriteLibrary.addSprite("key_down","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/key_down.png");s_oSpriteLibrary.addSprite("skip_arrow","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/skip_arrow.png");s_oSpriteLibrary.addSprite("skip_arrow_left","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/skip_arrow_left.png");s_oSpriteLibrary.addSprite("but_help","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/but_help.png");
s_oSpriteLibrary.addSprite("but_settings","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/but_settings.png");s_oSpriteLibrary.addSprite("large_bonus","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/large_bonus.png");s_oSpriteLibrary.addSprite("short_malus","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/short_malus.png");s_oSpriteLibrary.addSprite("super_shot","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/super_shot.png");s_oSpriteLibrary.addSprite("double_balls","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/double_balls.png");s_oSpriteLibrary.addSprite("crazy_ball","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/crazy_ball.png");s_oSpriteLibrary.addSprite("ball_trajectory","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/ball_trajectory.png");s_oSpriteLibrary.addSprite("point_1",
"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/point_1.png");s_oSpriteLibrary.addSprite("point_2","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/point_2.png");s_oSpriteLibrary.addSprite("logo_menu_0","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_0.png");s_oSpriteLibrary.addSprite("logo_menu_1","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_1.png");s_oSpriteLibrary.addSprite("logo_menu_2","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_2.png");s_oSpriteLibrary.addSprite("logo_menu_3","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_3.png");s_oSpriteLibrary.addSprite("logo_menu_4","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_4.png");s_oSpriteLibrary.addSprite("logo_menu_5",
"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_5.png");s_oSpriteLibrary.addSprite("logo_menu_6","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_6.png");s_oSpriteLibrary.addSprite("logo_menu_7","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_7.png");s_oSpriteLibrary.addSprite("logo_menu_8","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_8.png");s_oSpriteLibrary.addSprite("logo_menu_9","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_9.png");s_oSpriteLibrary.addSprite("logo_menu_10","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_10.png");s_oSpriteLibrary.addSprite("logo_menu_11","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_11.png");
s_oSpriteLibrary.addSprite("logo_menu_12","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_12.png");s_oSpriteLibrary.addSprite("logo_menu_13","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_13.png");s_oSpriteLibrary.addSprite("logo_menu_14","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_14.png");s_oSpriteLibrary.addSprite("logo_menu_15","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_15.png");s_oSpriteLibrary.addSprite("logo_menu_16","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_16.png");s_oSpriteLibrary.addSprite("logo_menu_17","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_17.png");s_oSpriteLibrary.addSprite("logo_menu_18",
"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_18.png");s_oSpriteLibrary.addSprite("logo_menu_19","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_19.png");s_oSpriteLibrary.addSprite("logo_menu_20","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_20.png");s_oSpriteLibrary.addSprite("logo_menu_21","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_21.png");s_oSpriteLibrary.addSprite("logo_menu_22","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_22.png");s_oSpriteLibrary.addSprite("logo_menu_23","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_23.png");s_oSpriteLibrary.addSprite("logo_menu_24","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_24.png");
s_oSpriteLibrary.addSprite("logo_menu_25","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_25.png");s_oSpriteLibrary.addSprite("logo_menu_26","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_26.png");s_oSpriteLibrary.addSprite("logo_menu_27","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_27.png");s_oSpriteLibrary.addSprite("logo_menu_28","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_28.png");s_oSpriteLibrary.addSprite("logo_menu_29","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_29.png");s_oSpriteLibrary.addSprite("logo_menu_30","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_30.png");s_oSpriteLibrary.addSprite("logo_menu_31",
"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_31.png");s_oSpriteLibrary.addSprite("logo_menu_32","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/logo_menu/logo_menu_32.png");s_oSpriteLibrary.addSprite("goal_text_0","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/goal_text/goal_text_0.png");s_oSpriteLibrary.addSprite("goal_text_1","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/goal_text/goal_text_1.png");s_oSpriteLibrary.addSprite("goal_text_2","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/goal_text/goal_text_2.png");s_oSpriteLibrary.addSprite("goal_text_3","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/goal_text/goal_text_3.png");s_oSpriteLibrary.addSprite("goal_text_4","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/goal_text/goal_text_4.png");
s_oSpriteLibrary.addSprite("goal_text_5","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/goal_text/goal_text_5.png");s_oSpriteLibrary.addSprite("goal_text_6","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/goal_text/goal_text_6.png");s_oSpriteLibrary.addSprite("goal_text_7","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/goal_text/goal_text_7.png");s_oSpriteLibrary.addSprite("goal_text_8","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/goal_text/goal_text_8.png");s_oSpriteLibrary.addSprite("goal_text_9","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/goal_text/goal_text_9.png");s_oSpriteLibrary.addSprite("goal_text_10","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/goal_text/goal_text_10.png");s_oSpriteLibrary.addSprite("goal_text_11",
"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/goal_text/goal_text_11.png");s_oSpriteLibrary.addSprite("goal_text_12","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/goal_text/goal_text_12.png");s_oSpriteLibrary.addSprite("goal_text_13","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/goal_text/goal_text_13.png");s_oSpriteLibrary.addSprite("goal_text_14","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/goal_text/goal_text_14.png");s_oSpriteLibrary.addSprite("enlarge_text_0","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/enlarge_text/enlarge_text_0.png");s_oSpriteLibrary.addSprite("enlarge_text_1","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/enlarge_text/enlarge_text_1.png");s_oSpriteLibrary.addSprite("enlarge_text_2",
"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/enlarge_text/enlarge_text_2.png");s_oSpriteLibrary.addSprite("enlarge_text_3","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/enlarge_text/enlarge_text_3.png");s_oSpriteLibrary.addSprite("enlarge_text_4","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/enlarge_text/enlarge_text_4.png");s_oSpriteLibrary.addSprite("enlarge_text_5","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/enlarge_text/enlarge_text_5.png");s_oSpriteLibrary.addSprite("enlarge_text_6","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/enlarge_text/enlarge_text_6.png");s_oSpriteLibrary.addSprite("enlarge_text_7","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/enlarge_text/enlarge_text_7.png");s_oSpriteLibrary.addSprite("enlarge_text_8",
"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/enlarge_text/enlarge_text_8.png");s_oSpriteLibrary.addSprite("enlarge_text_9","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/enlarge_text/enlarge_text_9.png");s_oSpriteLibrary.addSprite("enlarge_text_10","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/enlarge_text/enlarge_text_10.png");s_oSpriteLibrary.addSprite("enlarge_text_11","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/enlarge_text/enlarge_text_11.png");s_oSpriteLibrary.addSprite("enlarge_text_12","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/enlarge_text/enlarge_text_12.png");s_oSpriteLibrary.addSprite("enlarge_text_13","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/enlarge_text/enlarge_text_13.png");s_oSpriteLibrary.addSprite("enlarge_text_14",
"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/enlarge_text/enlarge_text_14.png");s_oSpriteLibrary.addSprite("become_short_text_0","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/become_short_text/become_short_text_0.png");s_oSpriteLibrary.addSprite("become_short_text_1","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/become_short_text/become_short_text_1.png");s_oSpriteLibrary.addSprite("become_short_text_2","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/become_short_text/become_short_text_2.png");s_oSpriteLibrary.addSprite("become_short_text_3","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/become_short_text/become_short_text_3.png");s_oSpriteLibrary.addSprite("become_short_text_4",
"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/become_short_text/become_short_text_4.png");s_oSpriteLibrary.addSprite("become_short_text_5","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/become_short_text/become_short_text_5.png");s_oSpriteLibrary.addSprite("become_short_text_6","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/become_short_text/become_short_text_6.png");s_oSpriteLibrary.addSprite("become_short_text_7","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/become_short_text/become_short_text_7.png");s_oSpriteLibrary.addSprite("become_short_text_8","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/become_short_text/become_short_text_8.png");s_oSpriteLibrary.addSprite("become_short_text_9",
"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/become_short_text/become_short_text_9.png");s_oSpriteLibrary.addSprite("become_short_text_10","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/become_short_text/become_short_text_10.png");s_oSpriteLibrary.addSprite("become_short_text_11","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/become_short_text/become_short_text_11.png");s_oSpriteLibrary.addSprite("become_short_text_12","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/become_short_text/become_short_text_12.png");s_oSpriteLibrary.addSprite("become_short_text_13","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/become_short_text/become_short_text_13.png");s_oSpriteLibrary.addSprite("become_short_text_14",
"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/become_short_text/become_short_text_14.png");s_oSpriteLibrary.addSprite("super_shot_text_0","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/super_shot_text/super_shot_text_0.png");s_oSpriteLibrary.addSprite("super_shot_text_1","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/super_shot_text/super_shot_text_1.png");s_oSpriteLibrary.addSprite("super_shot_text_2","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/super_shot_text/super_shot_text_2.png");s_oSpriteLibrary.addSprite("super_shot_text_3","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/super_shot_text/super_shot_text_3.png");s_oSpriteLibrary.addSprite("super_shot_text_4","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/super_shot_text/super_shot_text_4.png");
s_oSpriteLibrary.addSprite("super_shot_text_5","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/super_shot_text/super_shot_text_5.png");s_oSpriteLibrary.addSprite("super_shot_text_6","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/super_shot_text/super_shot_text_6.png");s_oSpriteLibrary.addSprite("super_shot_text_7","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/super_shot_text/super_shot_text_7.png");s_oSpriteLibrary.addSprite("super_shot_text_8","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/super_shot_text/super_shot_text_8.png");s_oSpriteLibrary.addSprite("super_shot_text_9","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/super_shot_text/super_shot_text_9.png");s_oSpriteLibrary.addSprite("super_shot_text_10",
"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/super_shot_text/super_shot_text_10.png");s_oSpriteLibrary.addSprite("super_shot_text_11","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/super_shot_text/super_shot_text_11.png");s_oSpriteLibrary.addSprite("super_shot_text_12","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/super_shot_text/super_shot_text_12.png");s_oSpriteLibrary.addSprite("super_shot_text_13","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/super_shot_text/super_shot_text_13.png");s_oSpriteLibrary.addSprite("super_shot_text_14","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/super_shot_text/super_shot_text_14.png");s_oSpriteLibrary.addSprite("double_ball_text_0","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/double_ball_text/double_ball_text_0.png");
s_oSpriteLibrary.addSprite("double_ball_text_1","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/double_ball_text/double_ball_text_1.png");s_oSpriteLibrary.addSprite("double_ball_text_2","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/double_ball_text/double_ball_text_2.png");s_oSpriteLibrary.addSprite("double_ball_text_3","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/double_ball_text/double_ball_text_3.png");s_oSpriteLibrary.addSprite("double_ball_text_4","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/double_ball_text/double_ball_text_4.png");s_oSpriteLibrary.addSprite("double_ball_text_5","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/double_ball_text/double_ball_text_5.png");
s_oSpriteLibrary.addSprite("double_ball_text_6","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/double_ball_text/double_ball_text_6.png");s_oSpriteLibrary.addSprite("double_ball_text_7","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/double_ball_text/double_ball_text_7.png");s_oSpriteLibrary.addSprite("double_ball_text_8","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/double_ball_text/double_ball_text_8.png");s_oSpriteLibrary.addSprite("double_ball_text_9","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/double_ball_text/double_ball_text_9.png");s_oSpriteLibrary.addSprite("double_ball_text_10","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/double_ball_text/double_ball_text_10.png");
s_oSpriteLibrary.addSprite("double_ball_text_11","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/double_ball_text/double_ball_text_11.png");s_oSpriteLibrary.addSprite("double_ball_text_12","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/double_ball_text/double_ball_text_12.png");s_oSpriteLibrary.addSprite("double_ball_text_13","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/double_ball_text/double_ball_text_13.png");s_oSpriteLibrary.addSprite("double_ball_text_14","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/double_ball_text/double_ball_text_14.png");s_oSpriteLibrary.addSprite("crazy_ball_text_0","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/crazy_ball_text/crazy_ball_text_0.png");
s_oSpriteLibrary.addSprite("crazy_ball_text_1","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/crazy_ball_text/crazy_ball_text_1.png");s_oSpriteLibrary.addSprite("crazy_ball_text_2","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/crazy_ball_text/crazy_ball_text_2.png");s_oSpriteLibrary.addSprite("crazy_ball_text_3","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/crazy_ball_text/crazy_ball_text_3.png");s_oSpriteLibrary.addSprite("crazy_ball_text_4","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/crazy_ball_text/crazy_ball_text_4.png");s_oSpriteLibrary.addSprite("crazy_ball_text_5","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/crazy_ball_text/crazy_ball_text_5.png");s_oSpriteLibrary.addSprite("crazy_ball_text_6",
"https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/crazy_ball_text/crazy_ball_text_6.png");s_oSpriteLibrary.addSprite("crazy_ball_text_7","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/crazy_ball_text/crazy_ball_text_7.png");s_oSpriteLibrary.addSprite("crazy_ball_text_8","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/crazy_ball_text/crazy_ball_text_8.png");s_oSpriteLibrary.addSprite("crazy_ball_text_9","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/crazy_ball_text/crazy_ball_text_9.png");s_oSpriteLibrary.addSprite("crazy_ball_text_10","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/crazy_ball_text/crazy_ball_text_10.png");s_oSpriteLibrary.addSprite("crazy_ball_text_11","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/crazy_ball_text/crazy_ball_text_11.png");
s_oSpriteLibrary.addSprite("crazy_ball_text_12","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/crazy_ball_text/crazy_ball_text_12.png");s_oSpriteLibrary.addSprite("crazy_ball_text_13","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/crazy_ball_text/crazy_ball_text_13.png");s_oSpriteLibrary.addSprite("crazy_ball_text_14","https://cdn.jsdelivr.net/gh/images-google-com/o6j@main/sprites/crazy_ball_text/crazy_ball_text_14.png");d+=s_oSpriteLibrary.getNumSprites();s_oSpriteLibrary.loadSprites()};this._onImagesLoaded=function(){b++;e.refreshLoader(Math.floor(b/d*100))};this._onAllImagesLoaded=function(){};this._onRemovePreloader=
function(){e.unload();isIOS()||(s_oSoundtrack=playSound("soundtrack",.4,!0));ARRAY_IMG_LEVEL[0]=s_oSpriteLibrary.getSprite("but_easy");ARRAY_IMG_LEVEL[1]=s_oSpriteLibrary.getSprite("but_medium");ARRAY_IMG_LEVEL[2]=s_oSpriteLibrary.getSprite("but_hard");this.gotoMenu()};this.onAllPreloaderImagesLoaded=function(){this._loadImages()};this.gotoMenu=function(){f=new CMenu;g=STATE_MENU};this.gotoGame=function(){k=new CGame(n);g=STATE_GAME};this.gotoSelectPlayers=function(){new CSelectPlayers};this.gotoLevelMenu=
function(){new CLevelMenu;g=STATE_LEVEL_SELECTION};this.gotoSelectMode=function(){new CSelectMode};this.gotoHelp=function(){new CHelp;g=STATE_HELP};this.stopUpdate=function(){c=!1;createjs.Ticker.paused=!0;$("#block_game").css("display","block");Howler.mute(!0)};this.startUpdate=function(){s_iPrevTime=(new Date).getTime();c=!0;createjs.Ticker.paused=!1;$("#block_game").css("display","none");s_bAudioActive&&Howler.mute(!1)};this._update=function(a){if(!1!==c){var b=(new Date).getTime();s_iTimeElaps=
b-s_iPrevTime;s_iCntTime+=s_iTimeElaps;s_iCntFps++;s_iPrevTime=b;1E3<=s_iCntTime&&(s_iCurFps=s_iCntFps,s_iCntTime-=1E3,s_iCntFps=0);g===STATE_GAME&&k.update();g===STATE_MENU&&f.update();s_oStage.update(a)}};s_oMain=this;ENABLE_CHECK_ORIENTATION=a.check_orientation;ENABLE_FULLSCREEN=a.fullscreen;POINTS_TO_WIN=20<a.points_to_win?20:a.points_to_win;OCCURRENCES_LARGE_BONUS=a.large_bonus_occurrences;OCCURRENCES_SHORT_MALUS=a.short_malus_occurrences;OCCURRENCES_SUPER_SHOTS=a.super_shots_occurrences;OCCURRENCES_DOUBLE_BALLS=
a.double_balls_occurrences;OCCURRENCES_CRAZY_BALL=a.crazy_ball_occurrences;var n=a;this.initContainer()}var s_bMobile,s_bAudioActive=!0,s_iCntTime=0,s_iTimeElaps=0,s_iPrevTime=0,s_iCntFps=0,s_iCurFps=0,s_iLastLevel=1,s_bFullscreen=!1,s_bStorageAvailable=!0,s_oDrawLayer,s_oStage,s_oMain,s_oSpriteLibrary,s_oSoundtrack=null,s_oCanvas,s_aSounds;
function CStick(a,c,b,d,g,e,f,k){var n,h,l,m,p,q,r,t,v,B,y,u,C,x,w,z;this.init=function(a,b,c,d,g,e,f,k){n=new createjs.Container;s_oStage.addChild(n);p=[];q=[];t=c;v=0;z=!1;r=k;x=!1;h=d;l=g;m=e;B=w=0;t===BLUE_STICK||s_b2Players?(a=s_oSpriteLibrary.getSprite("player_blue"),c=s_oSpriteLibrary.getSprite("player_blue_boosted"),C=1):(a=s_oSpriteLibrary.getSprite("player_red"),c=s_oSpriteLibrary.getSprite("player_red_boosted"),C=-1);1===t&&s_b2Players&&s_bMobile&&(B=180);y=[];y.push("idle_0");y.push("idle_1");
y.push("idle_2");y.push("idle_3");y.push("idle_4");y.push("idle_5");u=1;a=new createjs.SpriteSheet({images:[a,c],frames:{width:200,height:70,regX:100,regY:35},animations:{idle_0:[0,0,"idle_0"],idle_1:[1,1,"idle_1"],idle_2:[2,2,"idle_2"],idle_3:[3,3,"idle_3"],idle_4:[4,4,"idle_4"],idle_5:[5,5,"idle_5"]}});for(c=0;c<e.length;c++)p.push(new CEdge(m[c].x1,b,m[c].x2,b,1,!1)),q.push(new createSprite(a,"idle_1",100,35,200,70)),q[c].x=p[c].getModel().m_pCenter().getX(),q[c].y=0===t?p[c].getModel().m_pCenter().getY()+
10:p[c].getModel().m_pCenter().getY()-10,q[c].rotation=B,n.addChild(q[c])};this.onBonus=function(){if(2>u||2<u&&5>u)u++,q[0].gotoAndPlay(y[u]),p[0].changeSize(20*C)};this.onMalus=function(){if(0<u&&3>u||3<u)u--,q[0].gotoAndPlay(y[u]),p[0].changeSize(-20*C)};this.resetSize=function(){1!==u&&(u=1,q[0].gotoAndPlay(y[u]),p[0].resetSize(C))};this.setStrongShotPowerUP=function(a){x=a;w=0;!0===a?u+=3:!1===a&&2<u&&(u-=3);q[0].gotoAndPlay("idle_"+u)};this.getStrongShotPowerUP=function(){return x};this.getX=
function(){return q[0].x};this.getColorStick=function(){return t};this.getDistanceFromStickToEdge=function(a){return Math.sqrt(Math.pow(a.x-q[0].x,2)+Math.pow(a.y-q[0].y,2))};this.onKeyLeft=function(){q[0].x!==h&&(z=!0,v-=STICK_ACCELLERATION,this.__updateStickPositions())};this.onKeyRight=function(){q[0].x!==l&&(z=!0,v+=STICK_ACCELLERATION,this.__updateStickPositions())};this.__updateStickPositions=function(){Math.abs(v)>r&&(v=0>v?-r:r);var a=v;q[0].x+v<h?(a=h-q[0].x,v=0):q[0].x+v>l&&(v=0,a=l-q[0].x);
for(var b=0;b<p.length;b++)p[b].moveX(a),q[b].x+=a};this.getEdges=function(){return p};this.update=function(){!1===z&&(v*=STICK_FRICTION);z=!1;this.__updateStickPositions();x&&(w+=s_iTimeElaps,w>=MS_STRONG_SHOT_POWER_UP&&this.setStrongShotPowerUP(!1))};this.init(a,c,b,d,g,e,f,k)}
function CToggle(a,c,b,d,g){var e,f,k,n,h,l,m;this._init=function(a,b,c,d,g){h=[];l=[];var f=new createjs.SpriteSheet({images:[c],frames:{width:c.width/2,height:c.height,regX:c.width/2/2,regY:c.height/2},animations:{state_true:[0],state_false:[1]}});e=d;m=createSprite(f,"state_"+e,c.width/2/2,c.height/2,c.width/2,c.height);m.x=a;m.y=b;m.stop();g.addChild(m);this._initListener()};this.unload=function(){s_bMobile?m.off("mousedown",f):(m.off("mousedown",f),m.off("mouseover",n));m.off("pressup",k);g.removeChild(m)};
this._initListener=function(){s_bMobile?f=m.on("mousedown",this.buttonDown):(f=m.on("mousedown",this.buttonDown),n=m.on("mouseover",this.buttonOver));k=m.on("pressup",this.buttonRelease)};this.addEventListener=function(a,b,c){h[a]=b;l[a]=c};this.setActive=function(a){e=a;m.gotoAndStop("state_"+e)};this.buttonRelease=function(){m.scaleX=1;m.scaleY=1;playSound("press_button",1,!1);e=!e;m.gotoAndStop("state_"+e);h[ON_MOUSE_UP]&&h[ON_MOUSE_UP].call(l[ON_MOUSE_UP],e)};this.buttonDown=function(){m.scaleX=
.9;m.scaleY=.9;h[ON_MOUSE_DOWN]&&h[ON_MOUSE_DOWN].call(l[ON_MOUSE_DOWN])};this.buttonOver=function(a){s_bMobile||(a.target.cursor="pointer")};this.setX=function(a){m.x=a};this.setY=function(a){m.y=a};this.setPosition=function(a,b){m.x=a;m.y=b};this.setVisible=function(a){m.visible=a};this.getButtonImage=function(){return m};this._init(a,c,b,d,g)}
function CGfxButton(a,c,b,d){var g,e,f,k,n,h,l,m,p;this._init=function(a,b,c,d){p=g=!1;e=1;h=[];l=[];m=createBitmap(c);m.x=a;m.y=b;m.scaleX=m.scaleY=e;m.regX=c.width/2;m.regY=c.height/2;d.addChild(m);this._initListener()};this.unload=function(){s_bMobile?m.off("mousedown",f):(m.off("mousedown",f),m.off("mouseover",n));m.off("pressup",k);d.removeChild(m)};this.setVisible=function(a){m.visible=a};this.setClickable=function(a){g=!a};this._initListener=function(){s_bMobile?f=m.on("mousedown",this.buttonDown):
(f=m.on("mousedown",this.buttonDown),n=m.on("mouseover",this.buttonOver));k=m.on("pressup",this.buttonRelease)};this.addEventListener=function(a,b,c){h[a]=b;l[a]=c};this.buttonRelease=function(){g||(m.scaleX=e,m.scaleY=e,h[ON_MOUSE_UP]&&h[ON_MOUSE_UP].call(l[ON_MOUSE_UP]))};this.buttonDown=function(){g||(m.scaleX=.9*e,m.scaleY=.9*e,p||playSound("press_button",1,!1),h[ON_MOUSE_DOWN]&&h[ON_MOUSE_DOWN].call(l[ON_MOUSE_DOWN]))};this.buttonOver=function(a){s_bMobile||g||(a.target.cursor="pointer")};this.pulseAnimation=
function(){createjs.Tween.get(m).to({scaleX:.9*e,scaleY:.9*e},850,createjs.Ease.quadOut).to({scaleX:e,scaleY:e},650,createjs.Ease.quadIn).call(function(){q.pulseAnimation()})};this.trembleAnimation=function(){createjs.Tween.get(m).to({rotation:5},75,createjs.Ease.quadOut).to({rotation:-5},140,createjs.Ease.quadIn).to({rotation:0},75,createjs.Ease.quadIn).wait(750).call(function(){q.trebleAnimation()})};this.setPosition=function(a,b){m.x=a;m.y=b};this.setX=function(a){m.x=a};this.setY=function(a){m.y=
a};this.getButtonImage=function(){return m};this.getX=function(){return m.x};this.getY=function(){return m.y};this.setMuted=function(a){p=a};var q=this;this._init(a,c,b,d);return this}
function CMenu(){var a,c,b,d,g,e,f,k,n,h,l,m,p,q,r,t,v=null,B=null,y,u,C,x;this._init=function(){s_b2Players=!1;s_oSoundtrack&&setVolume(s_oSoundtrack,1);l=createBitmap(s_oSpriteLibrary.getSprite("bg_menu"));s_oStage.addChild(l);x=[];C=[];C[0]=(new CEdge(0,CANVAS_HEIGHT,0,5,!1)).getModel();C[1]=(new CEdge(CANVAS_WIDTH,0,CANVAS_WIDTH,CANVAS_HEIGHT,5,!1)).getModel();C[2]=(new CEdge(0,0,CANVAS_WIDTH,0,5,!1)).getModel();C[3]=(new CEdge(CANVAS_WIDTH,CANVAS_HEIGHT,0,CANVAS_HEIGHT,5,!1)).getModel();for(var w=
0;1>w;w++)x.push(new CBall(CANVAS_WIDTH/2,CANVAS_HEIGHT/2,s_oSpriteLibrary.getSprite("ball"),"ball_0",s_oStage));for(w=0;w<x.length;w++){var z=new CVector2(randomFloatBetween(1,2.5)*randomSign(),randomFloatBetween(1,2.5)*randomSign());z.normalize();z.scalarProduct(3);x[w].vCurForce().setV(z)}w=s_oSpriteLibrary.getSprite("but_mode");b=CANVAS_WIDTH/2-225;d=CANVAS_HEIGHT-200;m=new CTextButton(b,d,w,TEXT_CLASSIC_MODE,PRIMARY_FONT,"#4ce700",40,s_oStage);m.addEventListener(ON_MOUSE_DOWN,this._onButFriendlyRelease,
this);a=CANVAS_WIDTH/2+225;c=CANVAS_HEIGHT-200;y=new CTextButton(a,c,w,TEXT_ADVANCED_MODE,PRIMARY_FONT,"#4ce700",40,s_oStage);y.addEventListener(ON_MOUSE_DOWN,this._onButTournamentRelease,this);w=s_oSpriteLibrary.getSprite("but_info");n=w.height/2+10;h=w.height/2+10;r=new CGfxButton(CANVAS_WIDTH/2,CANVAS_HEIGHT-240,w,s_oStage);r.addEventListener(ON_MOUSE_UP,this._onCreditsBut,this);z=[];for(w=0;33>w;w++)z.push(s_oSpriteLibrary.getSprite("logo_menu_"+w));w={images:z,frames:{width:726,height:142,regX:363,
regY:71},animations:{idle:[0,32,"idle",.7]}};z=new createjs.SpriteSheet(w);u=createSprite(z,"idle",w.frames.regX,w.frames.regY,w.frames.width,w.frames.height);u.x=CANVAS_WIDTH/2;u.y=CANVAS_HEIGHT/2-100;s_oStage.addChild(u);if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)w=s_oSpriteLibrary.getSprite("audio_icon"),f=CANVAS_WIDTH-(w.height/2+10),k=w.height/2+10,q=new CToggle(f,k,w,s_bAudioActive,s_oStage),q.addEventListener(ON_MOUSE_UP,this._onAudioToggle,this);w=window.document;z=w.documentElement;v=z.requestFullscreen||
z.mozRequestFullScreen||z.webkitRequestFullScreen||z.msRequestFullscreen;B=w.exitFullscreen||w.mozCancelFullScreen||w.webkitExitFullscreen||w.msExitFullscreen;!1===ENABLE_FULLSCREEN&&(v=!1);v&&screenfull.enabled&&(w=s_oSpriteLibrary.getSprite("but_fullscreen"),g=n+w.width/2+10,e=w.height/2+10,t=new CToggle(g,e,w,!1,s_oStage),t.addEventListener(ON_MOUSE_UP,this._onFullscreen,this));p=new createjs.Shape;p.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);s_oStage.addChild(p);createjs.Tween.get(p).to({alpha:0},
1E3).call(function(){p.visible=!1});this.refreshButtonPos(s_iOffsetX,s_iOffsetY)};this.update=function(){for(var a=0;10>a;a++)for(var b=0;b<x.length;b++)x[b].vPos().addV(x[b].vCurForce()),x[b].updateTrajectory(),this.collideCircleWithEdges(x[b],C);for(a=0;a<x.length;a++)x[a].updateSpritePosition()};this.collideCircleWithEdges=function(a,b){for(var c=0;c<b.length;c++){var d=collideEdgeWithCircle(b[c],a.vPos(),a.getRadius());if(d){var g=new CVector2;g.setV(b[c].getNormal());g.scalarProduct(1.05*a.getRadius());
d.closest_point.addV(g);a.setPos(d.closest_point);reflectVectorV2(a.vCurForce(),b[c].getNormal());break}}};this.unload=function(){s_oStage.removeChild(u);m.unload();y.unload();m=null;p.visible=!1;r.unload();for(var a=x.length-1;0<=a;a--)x[a].unload(),x.pop();if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)q.unload(),q=null;v&&screenfull.enabled&&t.unload();s_oStage.removeChild(l);s_oMenu=l=null};this.refreshButtonPos=function(l,p){m.setPosition(b,d-p);y.setPosition(a,c-p);r.setPosition(n+l,p+h);!1!==
DISABLE_SOUND_MOBILE&&!1!==s_bMobile||q.setPosition(f-l,p+k);v&&screenfull.enabled&&t.setPosition(g+l,e+p)};this._onAudioToggle=function(){Howler.mute(s_bAudioActive);s_bAudioActive=!s_bAudioActive};this._onCreditsBut=function(){new CCreditsPanel};this.resetFullscreenBut=function(){v&&screenfull.enabled&&t.setActive(s_bFullscreen)};this._onFullscreen=function(){s_bFullscreen?B.call(window.document):v.call(window.document.documentElement);sizeHandler()};this._onButFriendlyRelease=function(){this.unload();
$(s_oMain).trigger("start_session");s_bFriendly=!0;s_oMain.gotoSelectPlayers();ADVANCED_MODE=!1;!isIOS()||null!==s_oSoundtrack&&void 0!==s_oSoundtrack||!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||(s_oSoundtrack=playSound("soundtrack",.4,!0))};this._onButTournamentRelease=function(){this.unload();$(s_oMain).trigger("start_session");s_bFriendly=!1;s_oMain.gotoSelectPlayers();ADVANCED_MODE=!0;!isIOS()||null!==s_oSoundtrack&&void 0!==s_oSoundtrack||(s_oSoundtrack=playSound("soundtrack",1,!0))};s_oMenu=
this;this._init()}var s_oMenu=null;
function CGame(a){var c,b,d,g,e=null,f,k,n,h,l,m,p,q,r,t,v,B,y,u,C,x,w,z,D,G,E,F,J,A,I,M,L,H,N;this._init=function(){setVolume("soundtrack",.1);v=b=c=!0;B=!1;z=r=q=d=0;M=1;new CVector2;n=[];y=t=!0;u=ADVANCED_MODE;var a=createBitmap(s_oSpriteLibrary.getSprite("bg_game"));s_oStage.addChild(a);N=new createjs.Container;s_oStage.addChild(N);l=h=!1;s_b2Players&&(p=m=!1);g=new CInterface;g.refreshScore(d);k=[];D=0;G=!0;E=!1;F=0;k[VERTICAL_LINE_LEFT]=(new CEdge(EDGEBOARD_X+2,CANVAS_HEIGHT-30,EDGEBOARD_X+
2,30,5,!1)).getModel();k[VERTICAL_LINE_RIGHT]=(new CEdge(CANVAS_WIDTH-(EDGEBOARD_X+2),30,CANVAS_WIDTH-(EDGEBOARD_X+2),CANVAS_HEIGHT-30,5,!1)).getModel();if(u){w=[];w.push((new CEdge(EDGEBOARD_X+2,30,CANVAS_WIDTH-(EDGEBOARD_X+2),30,5,!1)).getModel());w.push((new CEdge(CANVAS_WIDTH-(EDGEBOARD_X+2),CANVAS_HEIGHT-30,EDGEBOARD_X+2,CANVAS_HEIGHT-30,5,!1)).getModel());w.push(k[VERTICAL_LINE_LEFT]);w.push(k[VERTICAL_LINE_RIGHT]);I=[];for(a=0;a<OCCURRENCES_LARGE_BONUS;a++)I.push(LARGE_BONUS);for(a=0;a<OCCURRENCES_SHORT_MALUS;a++)I.push(SHORT_MALUS);
for(a=0;a<OCCURRENCES_SUPER_SHOTS;a++)I.push(SUPER_SHOT);for(a=0;a<OCCURRENCES_DOUBLE_BALLS;a++)I.push(DOUBLE_BALLS);for(a=0;a<OCCURRENCES_CRAZY_BALL;a++)I.push(CRAZY_BALL);H=[];H[LARGE_BONUS]=this.assembleSpriteSheetText("enlarge_text_");H[SHORT_MALUS]=this.assembleSpriteSheetText("become_short_text_");H[SUPER_SHOT]=this.assembleSpriteSheetText("super_shot_text_");H[DOUBLE_BALLS]=this.assembleSpriteSheetText("double_ball_text_");H[CRAZY_BALL]=this.assembleSpriteSheetText("crazy_ball_text_");for(a=
0;a<H.length;a++)s_oStage.addChild(H[a])}L=this.assembleSpriteSheetText("goal_text_");s_oStage.addChild(L);f=[];J=0;A=START_PROGRESSIVE_BALL_VELOCITY;n[PLAYER_1]=new CStick(CANVAS_WIDTH/2,CANVAS_HEIGHT-130,BLUE_STICK,EDGEBOARD_X+2+100,CANVAS_WIDTH-(EDGEBOARD_X+2+100),[{x1:CANVAS_WIDTH/2+70,x2:CANVAS_WIDTH/2-70}],GOALKEEPER,PLAYER_SPEED_STICKS);n[PLAYER_2]=new CStick(CANVAS_WIDTH/2,130,RED_STICK,EDGEBOARD_X+2+100,CANVAS_WIDTH-(EDGEBOARD_X+2+100),[{x2:CANVAS_WIDTH/2+70,x1:CANVAS_WIDTH/2-70}],GOALKEEPER,
CPU_SPEED_STICKS);g.setOnTop();if(s_bMobile)g.initMobileButtons();else{if(!s_b2Players)s_oStage.on("stagemousemove",this.onMouseOver);document.onkeydown=this.keyDownKeyBoard;document.onkeyup=this.keyUpKeyBoard}g.setOnTop();!0!==s_b2Players||s_bMobile||!0!==s_bFirstMultiPlayer||(s_bFirstPlay=s_bFirstMultiPlayer=!1,new CPanelTutorial(!0));!0===s_bFirstPlay&&(s_bFirstPlay=!1,new CPanelTutorial(!0))};this.assembleSpriteSheetText=function(a){for(var b=[],c=0;15>c;c++)b.push(s_oSpriteLibrary.getSprite(a+
c));a={images:b,frames:{width:1120,height:300,regX:560,regY:150},animations:{idle:[0,14,"idle",.8]}};b=new createjs.SpriteSheet(a);a=createSprite(b,"idle",a.frames.regX,a.frames.regY,a.frames.width,a.frames.height);a.stop();a.x=CANVAS_WIDTH/2;a.y=Y_OFFBOARD_MESSAGES_UP;return a};this.onMouseOver=function(a){C=parseInt(a.localX)};this.onTouchDownMobileP1=function(a){a.localX>CANVAS_WIDTH/2?(h=!1,l=!0):(l=!1,h=!0)};this.onTouchDownMobileP2=function(a){a.localX>CANVAS_WIDTH/2?(m=!1,p=!0):(p=!1,m=!0)};
this.onTouchUpMobileP1=function(a){l=h=!1};this.onTouchUpMobileP2=function(a){p=m=!1};this.keyUpKeyBoard=function(a){a||(a=window.event);a.preventDefault();switch(a.keyCode){case 65:h=!1;break;case 68:l=!1;break;case 37:m=!1;break;case 39:p=!1}};this.keyDownKeyBoard=function(a){a||(a=window.event);a.preventDefault();switch(a.keyCode){case 65:h=!0;C=null;break;case 68:l=!0;C=null;break;case 37:m=!0;break;case 39:p=!0;break;case 32:if(32===event.keyCode&&y&&!B&&c)K.onMouseDown()}a.preventDefault()};
this.AICpu=function(a,b){if(!1===fixEnemyTremble(a,b.getEdges()[0].getModel()))if(a.getX()>b.getEdges()[0].getModel().m_pCenter().getX())b.onKeyRight();else b.onKeyLeft()};this.setStartGame=function(a){c=a};this.sortObjectsByY=function(a){a.sort(function(a,b){return parseFloat(a.getY())-parseFloat(b.getY())})};this.fixMouseTremmle=function(){return n[PLAYER_1].getX()-15<C&&n[PLAYER_1].getX()+15>C?!1:!0};this.setBooleanUp1=function(a){h=a};this.setBooleanDown1=function(a){l=a};this.setBooleanUp2=function(a){m=
a};this.setBooleanDown2=function(a){p=a};this.onMouseDown=function(){g.setVisibleButKickOff(!1);y=!1;playSound("power_up_bonus",1,!1);A=START_PROGRESSIVE_BALL_VELOCITY;f.push(new CBall(CANVAS_WIDTH/2,CANVAS_HEIGHT/2,s_oSpriteLibrary.getSprite("ball"),"ball_0",s_oStage));f[0].setVisible(!1);var a=new CVector2(randomFloatBetween(.05,.1)*randomSign(),randomFloatBetween(.05,.1)*randomSign());a.normalize();a.scalarProduct(BALL_START_VELOCITY);f[0].vCurForce().setV(a);f[0].setVisible(!0);t=!1;B=!0};this.collideCircleWithEdges=
function(a,b){for(var c=0;c<b.length;c++){var d=collideEdgeWithCircle(b[c],a.vPos(),a.getRadius());if(d){playSound("ball_wall",1,!1);var g=new CVector2;g.setV(b[c].getNormal());g.scalarProduct(1.05*a.getRadius());d.closest_point.addV(g);a.setPos(d.closest_point);reflectVectorV2(a.vCurForce(),b[c].getNormal());break}}};this.unload=function(){c=!1;g.unload();null!==e&&e.unload();createjs.Tween.removeAllTweens();s_oStage.removeAllChildren()};this.onExit=function(){$(s_oMain).trigger("end_session");s_oGame.unload();
s_oMain.gotoMenu();setVolume("soundtrack",.4)};this._onExitHelp=function(){c=!0};this.gameOver=function(a){e=new CEndPanel(s_oSpriteLibrary.getSprite("msg_box"),a);0===a&&(d=100*q,d-=50*r);e.show(d,a)};this.collideBallWithPlayer=function(a,b){for(var c=0;c<b.length;c++)for(var d=b[c].getEdges(),g=0;g<d.length;g++){var e=d[g].getModel(),f=collideEdgeWithCircle(e,a.vPos(),a.getRadius());if(f){a.setUserData({color:b[c].getColorStick()});var l=new CVector2;l.setV(e.getNormal());var h=distance(f.closest_point,
e.m_pCenter()),m=.5*e.getLength(),k=MAX_ANGLE_ROOT_COLLISION_BALL_EDGE,q=new CVector2;h=h/m*k;h=degreesToRadians(h);f.closest_point.getX()>e.m_pCenter().getX()?b[c].getColorStick()===BLUE_STICK?l.rotate(-h):l.rotate(+h):b[c].getColorStick()===BLUE_STICK?l.rotate(+h):l.rotate(-h);q.setV(l);q.normalize();b[c].getStrongShotPowerUP()&&(M=A,A=SUPER_SHOT_POWER);q.scalarProduct(A);A<LIMIT_SPEED&&(A+=PROGRESSIVE_STEP_BALL_VELOCITY);a.vCurForce().setV(q);b[c].getStrongShotPowerUP()&&(A=M);playSound("ball_kick",
1,!1)}}};this.goalCheck=function(){for(var a=f.length-1;0<=a;a--)f[a]&&f[a].checkGoalTop()&&(f[a].unload(),f.splice(a,1),playSound("goal_player",1,!1),q++,g.goalP1(q),this.showSpecialText(PLAYER_1,L),q===POINTS_TO_WIN?this.gameOver(0):0===f.length&&(B=v=!1,setTimeout(K.afterGoal,MS_AFTER_GOAL))),f[a]&&f[a].checkGoalBottom()&&(f[a].unload(),f.splice(a,1),s_b2Players?playSound("goal_player",1,!1):playSound("goal_pc",1,!1),r++,g.goalP2(r),this.showSpecialText(PLAYER_2,L),r===POINTS_TO_WIN?this.gameOver(1):
0===f.length&&(B=v=!1,setTimeout(K.afterGoal,MS_AFTER_GOAL)))};this.showSpecialText=function(a,b){b.stop();b.rotation=0;if(a===PLAYER_1){b.y=Y_OFFBOARD_MESSAGES_DOWN;var c=Y_MESSAGES_ON_BOARD_DOWN}else a===PLAYER_2?(b.y=Y_OFFBOARD_MESSAGES_UP,c=Y_MESSAGES_ON_BOARD_UP,s_b2Players&&s_bMobile&&(b.rotation=180)):2===a&&(b.y=Y_OFFBOARD_MESSAGES_UP,c=CANVAS_HEIGHT/2);setTimeout(function(){playSound("explosion",1,!1)},1100);(new createjs.Tween.get(b)).to({y:c},1E3,createjs.Ease.cubicOut).call(function(){b.gotoAndPlay("idle");
b.on("animationend",function(){b.y=Y_OFFBOARD_MESSAGES_UP;b.gotoAndStop("idle")})})};this.afterGoal=function(){g.setVisibleButKickOff(!0);t=!0;E=!1;F=D=0;n[PLAYER_1].setStrongShotPowerUP(!1);n[PLAYER_2].setStrongShotPowerUP(!1);n[PLAYER_1].resetSize();n[PLAYER_2].resetSize();v=y=!0;B=!1;x&&(x.unload(),x=null)};this.update=function(){if(u)if(G&&D>=-ANGLE_CRAZY_BALL){D++;var a=STEP_UPDATE_CRAZY_BALL;D===ANGLE_CRAZY_BALL&&(G=!1)}else!G&&D<=ANGLE_CRAZY_BALL&&(D--,a=-STEP_UPDATE_CRAZY_BALL,D===-ANGLE_CRAZY_BALL&&
(G=!0));if(!t){if(b){if(E)for(var c=0;c<f.length;c++)f[c].vCurForce().rotate(degreesToRadians(a));for(c=0;c<PHYSICS_ITERATIONS;c++)for(a=0;a<f.length;a++)f[a].vPos().addV(f[a].vCurForce()),f[a].updateTrajectory(),this.collideBallWithPlayer(f[a],n),this.collideCircleWithEdges(f[a],k),u&&x&&(x.vPos().addV(x.vCurForce()),this.collideCircleWithEdges(x,w),this.collideBallWithBall(f[a],x));for(c=0;c<f.length;c++)f[c].updateSpritePosition();u&&(z+=s_iTimeElaps,z>=randomFloatBetween(MIN_MS_SPAWN_POWER_UP,
MAX_MS_SPAWN_POWER_UP)&&(z=0,c=I[parseInt(randomFloatBetween(1,I.length-1))],x=new CBonusMalus(parseInt(randomFloatBetween(CANVAS_WIDTH/2-200,CANVAS_WIDTH/2+200)),parseInt(randomFloatBetween(300,CANVAS_HEIGHT-300)),c,N),c===DOUBLE_BALLS&&(a=new CVector2(5*randomSign(),0),x.vPos().set(CANVAS_WIDTH/2,CANVAS_HEIGHT/2),a.normalize(),a.scalarProduct(BALL_START_VELOCITY),x.vCurForce().setV(a)),c===SHORT_MALUS||c===CRAZY_BALL)&&(a=new CVector2(randomFloatBetween(1.5,2),-1*randomSign()),a.normalize(),a.scalarProduct(BALL_START_VELOCITY),
x.vCurForce().setV(a)),x&&(x.updateSpritePosition(),x.checkUnload()),!0===E&&(F+=s_iTimeElaps,F>=MS_CRAZY_BALL&&(F=0,E=!1)));for(c=0;c<n.length;c++)n[c].update()}if(B){if(C){if(this.fixMouseTremmle()){if(C>n[PLAYER_1].getX())n[PLAYER_1].onKeyRight();if(C<n[PLAYER_1].getX())n[PLAYER_1].onKeyLeft()}}else{if(h)n[PLAYER_1].onKeyLeft();if(l)n[PLAYER_1].onKeyRight()}if(s_b2Players){if(p)n[PLAYER_2].onKeyRight();if(m)n[PLAYER_2].onKeyLeft()}if(!s_b2Players){for(c=0;c<f.length;c++)f[J]?f[c].getY()<f[J].getY()&&
(J=c):J=c;this.AICpu(f[J],n[PLAYER_2])}}v&&this.goalCheck()}};this.onUnloadPowerUP=function(){x=null};this.collideBallWithBall=function(a,b){var c=a.getX(),d=a.getY(),g=b.getX(),e=b.getY(),h=a.getRadius(),l=b.getRadius();h=(h+l)*(h+l);if(distanceBetween2PointsV2(c,d,g,e)<h){switch(b.getType()){case LARGE_BONUS:playSound("power_up_bonus",1,!1);if(a.getUserData())n[a.getUserData().color].onBonus();break;case SHORT_MALUS:playSound("power_up_malus",1,!1);if(a.getUserData())n[a.getUserData().color].onMalus();
break;case SUPER_SHOT:playSound("power_up_bonus",1,!1);a.getUserData()&&n[a.getUserData().color].setStrongShotPowerUP(!0);break;case DOUBLE_BALLS:playSound("power_up_bonus",1,!1);c=new CBall(a.getX(),a.getY(),s_oSpriteLibrary.getSprite("ball"),"ball_"+f.length,s_oStage);c.vCurForce().setV(a.vCurForce());c.vCurForce().invert();f.push(c);break;case CRAZY_BALL:playSound("power_up_malus",1,!1),G=!0,D=0,E=!0}x.unload();x=null;a.getUserData()?K.showSpecialText(a.getUserData().color,H[b.getType()]):K.showSpecialText(2,
H[b.getType()])}};this.setPause=function(a){t=a};this.setInput=function(a){B=a};this.onEndCrazyBall=function(){E=!1};s_oGame=this;POINTS_TO_LOSE=a.points_to_lose;START_SCORE=a.starting_points;AD_SHOW_COUNTER=a.ad_show_counter;var K=this;this._init()}var s_oGame;
function CInterface(){var a,c,b,d,g,e,f,k,n,h,l,m,p,q,r=null,t=null,v=null,B,y,u,C,x,w,z,D,G,E,F;this._init=function(){p=new createjs.Container;z=new createjs.Shape;z.graphics.beginFill("#000000").drawRect(0,CANVAS_HEIGHT/2,CANVAS_WIDTH,CANVAS_HEIGHT/2);z.alpha=.01;p.addChild(z);D=new createjs.Shape;D.graphics.beginFill("#000000").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT/2);D.alpha=.01;p.addChild(D);w=new createjs.Container;s_oStage.addChild(p);E=[];F=[];var r=s_oSpriteLibrary.getSprite("but_kickoff");
B=new CGfxButton(.5*CANVAS_WIDTH,.5*CANVAS_HEIGHT,r,p);B.pulseAnimation();B.addEventListener(ON_MOUSE_DOWN,s_oGame.onMouseDown,this);r=s_oSpriteLibrary.getSprite("point_1");for(var A=0;A<POINTS_TO_WIN;A++)E.push(createBitmap(r,r.width,r.height)),F.push(createBitmap(r,r.width,r.height)),E[A].regX=r.width/2,E[A].regY=r.height/2,E[A].x=CANVAS_WIDTH/2+360,E[A].y=CANVAS_HEIGHT/2+30+45*A,F[A].regX=r.width/2,F[A].regY=r.height/2,F[A].x=CANVAS_WIDTH/2+360,F[A].y=CANVAS_HEIGHT/2-30-45*A,9<A&&(E[A].x=CANVAS_WIDTH/
2+322,E[A].y=CANVAS_HEIGHT/2+30+45*(A-10),F[A].x=CANVAS_WIDTH/2+322,F[A].y=CANVAS_HEIGHT/2-30-45*(A-10)),p.addChild(E[A],F[A]);p.addChild(w);r=s_oSpriteLibrary.getSprite("but_settings");a=CANVAS_WIDTH-r.width/2-10;c=r.height/2+10;r=s_oSpriteLibrary.getSprite("but_exit");n=a;h=c+r.height+10;m=new CGfxButton(n,h,r,p);m.addEventListener(ON_MOUSE_UP,this._onExit,this);m.setVisible(!1);r=s_oSpriteLibrary.getSprite("but_help");b=a;d=h+r.height+10;y=new CGfxButton(b,d,r,p);y.addEventListener(ON_MOUSE_UP,
function(){new CPanelTutorial},this);y.setVisible(!1);f=b;k=d+r.height+10;if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)r=s_oSpriteLibrary.getSprite("audio_icon"),l=new CToggle(f,k,r,s_bAudioActive,p),l.addEventListener(ON_MOUSE_UP,this._onAudioToggle,this),l.setVisible(!1);r=window.document;A=r.documentElement;t=A.requestFullscreen||A.mozRequestFullScreen||A.webkitRequestFullScreen||A.msRequestFullscreen;v=r.exitFullscreen||r.mozCancelFullScreen||r.webkitExitFullscreen||r.msExitFullscreen;!1===ENABLE_FULLSCREEN&&
(t=!1);t&&screenfull.enabled&&(r=s_oSpriteLibrary.getSprite("but_fullscreen"),l?(g=f,e=k+r.height+10):(g=f,e=k),q=new CToggle(g,e,r,s_bFullscreen,p),q.addEventListener(ON_MOUSE_UP,this._onFullscreen,this),q.setVisible(!1));r=s_oSpriteLibrary.getSprite("but_settings");u=new CGfxButton(a,c,r,p);u.addEventListener(ON_MOUSE_UP,this.onSettings);C=!1;G=this;this.refreshButtonPos(s_iOffsetX,s_iOffsetY)};this.onSettings=function(){G.setOnTop();C?(s_oGame.setStartGame(!0),x.onExit(),C=!1,(new createjs.Tween.get(m.getButtonImage())).to({x:u.getX(),
y:u.getY()},300,createjs.Ease.cubicIn).call(function(){m.setVisible(!1);y.setVisible(!1);l&&l.setVisible(!1);q&&q.setVisible(!1)}),(new createjs.Tween.get(y.getButtonImage())).to({x:u.getX(),y:u.getY()},300,createjs.Ease.cubicIn),l&&(new createjs.Tween.get(l.getButtonImage())).to({x:u.getX(),y:u.getY()},300,createjs.Ease.cubicIn),q&&(new createjs.Tween.get(q.getButtonImage())).to({x:u.getX(),y:u.getY()},300,createjs.Ease.cubicIn)):(s_oGame.setStartGame(!1),x=new CPause(w),C=!0,m.setX(u.getX()),m.setY(u.getY()),
m.setVisible(!0),y.setX(u.getX()),y.setY(u.getY()),y.setVisible(!0),l&&(l.setX(u.getX()),l.setY(u.getY()),l.setVisible(!0)),q&&(q.setX(u.getX()),q.setY(u.getY()),q.setVisible(!0)),(new createjs.Tween.get(m.getButtonImage())).to({x:n-s_iOffsetX,y:h+s_iOffsetY},300,createjs.Ease.cubicOut),(new createjs.Tween.get(y.getButtonImage())).to({x:b-s_iOffsetX,y:d+s_iOffsetY},300,createjs.Ease.cubicOut),l&&(new createjs.Tween.get(l.getButtonImage())).to({x:f-s_iOffsetX,y:k+s_iOffsetY},300,createjs.Ease.cubicOut),
q&&(new createjs.Tween.get(q.getButtonImage())).to({x:g-s_iOffsetX,y:e+s_iOffsetY},300,createjs.Ease.cubicOut))};this.unload=function(){if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)l.unload(),l=null;m.unload();s_oStage.removeChild(p);t&&screenfull.enabled&&q.unload();s_oInterface=null};this.goalP1=function(a){var b=s_oSpriteLibrary.getSprite("point_2"),c=createBitmap(b,b.width,b.height);c.alpha=0;c.regX=b.width/2;c.regY=b.width/2;c.x=E[a-1].x;c.y=E[a-1].y;p.addChild(c);(new createjs.Tween.get(c)).to({alpha:1},
1E3)};this.goalP2=function(a){var b=s_oSpriteLibrary.getSprite("point_2"),c=createBitmap(b,b.width,b.height);c.alpha=0;c.regX=b.width/2;c.regY=b.width/2;c.x=F[a-1].x;c.y=F[a-1].y;p.addChild(c);(new createjs.Tween.get(c)).to({alpha:1},1E3)};this.setVisibleButKickOff=function(a){B.setVisible(a)};this.initMobileButtons=function(){z.on("mousedown",s_oGame.onTouchDownMobileP1);z.on("pressup",s_oGame.onTouchUpMobileP1);s_b2Players&&(D.on("mousedown",s_oGame.onTouchDownMobileP2),D.on("pressup",s_oGame.onTouchUpMobileP2))};
this.refreshButtonPos=function(p,r){u.setPosition(a-p,c+r);m.setPosition(n-p,h+r);y.setPosition(b-p,d+r);!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||l.setPosition(f-p,k+r);t&&screenfull.enabled&&q.setPosition(g-p,e+r)};this.setOnTop=function(){s_oStage.addChildAt(p,s_oStage.numChildren)};this.refreshScore=function(a){};this._onButHelpRelease=function(){r=new CHelpPanel};this._onButRestartRelease=function(){s_oGame.restartGame();$(s_oMain).trigger("restart_level",1)};this.onExitFromHelp=function(){r.unload()};
this._onAudioToggle=function(){Howler.mute(s_bAudioActive);s_bAudioActive=!s_bAudioActive};this._onExit=function(){new CAreYouSurePanel(s_oGame.onExit)};this.resetFullscreenBut=function(){t&&screenfull.enabled&&q.setActive(s_bFullscreen)};this._onFullscreen=function(){s_bFullscreen?v.call(window.document):t.call(window.document.documentElement);sizeHandler()};s_oInterface=this;this._init();return this}var s_oInterface=null;
function CCreditsPanel(){var a,c,b,d,g;this._init=function(){c=new createjs.Shape;c.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);c.alpha=0;c.on("mousedown",function(){});s_oStage.addChild(c);(new createjs.Tween.get(c)).to({alpha:.7},500);b=new createjs.Container;s_oStage.addChild(b);var e=s_oSpriteLibrary.getSprite("msg_box"),f=createBitmap(e);f.regX=e.width/2;f.regY=e.height/2;b.addChild(f);b.x=CANVAS_WIDTH/2;b.y=CANVAS_HEIGHT+e.height/2;a=b.y;(new createjs.Tween.get(b)).to({y:CANVAS_HEIGHT/
2-40},500,createjs.Ease.quartIn);f=new createjs.Text("DEVELOPED BY"," 40px "+PRIMARY_FONT,"#4ce700");f.y=-e.height/2+90;f.textAlign="center";f.textBaseline="middle";f.lineWidth=300;b.addChild(f);e=new createjs.Text("www.codethislab.com"," 40px "+PRIMARY_FONT,"#4ce700");e.y=105;e.textAlign="center";e.textBaseline="middle";e.lineWidth=300;b.addChild(e);e=s_oSpriteLibrary.getSprite("ctl_logo");g=createBitmap(e);g.on("click",this._onLogoButRelease);g.regX=e.width/2;g.regY=e.height/2;b.addChild(g);g.on("mouseover",
this.changePointer,this);e=s_oSpriteLibrary.getSprite("but_exit");d=new CGfxButton(285,-175,e,b);d.addEventListener(ON_MOUSE_UP,this.unload,this)};this.changePointer=function(a){!1===s_bMobile&&(a.target.cursor="pointer")};this.unload=function(){d.setClickable(!1);(new createjs.Tween.get(c)).to({alpha:0},500);(new createjs.Tween.get(b)).to({y:a},400,createjs.Ease.backIn).call(function(){s_oStage.removeChild(c);s_oStage.removeChild(b);d.unload()});c.removeAllEventListeners();g.removeAllEventListeners()};
this._onLogoButRelease=function(){window.open("http://www.codethislab.com/index.php?&l=en")};this._onMoreGamesReleased=function(){window.open("http://codecanyon.net/collections/5409142-games")};this._init()}
function CAreYouSurePanel(a){var c,b,d,g,e;this._init=function(a){g=new createjs.Shape;g.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);g.alpha=0;g.on("mousedown",function(){});s_oStage.addChild(g);(new createjs.Tween.get(g)).to({alpha:.7},500);e=new createjs.Container;s_oStage.addChild(e);a=s_oSpriteLibrary.getSprite("msg_box");var f=createBitmap(a);f.regX=a.width/2;f.regY=a.height/2;e.addChild(f);e.x=CANVAS_WIDTH/2;e.y=CANVAS_HEIGHT+a.height/2;c=e.y;(new createjs.Tween.get(e)).to({y:CANVAS_HEIGHT/
2},500,createjs.Ease.quartIn);f=new createjs.Text(TEXT_ARE_SURE," 54px "+PRIMARY_FONT,"#4ce700");f.y=-a.height/2+120;f.textAlign="center";f.textBaseline="middle";f.lineWidth=400;e.addChild(f);b=new CGfxButton(110,195,s_oSpriteLibrary.getSprite("but_yes_big"),e);b.addEventListener(ON_MOUSE_UP,this._onButYes,this);d=new CGfxButton(-110,195,s_oSpriteLibrary.getSprite("but_exit"),e);d.addEventListener(ON_MOUSE_UP,this._onButNo,this);d.pulseAnimation()};this._onButYes=function(){d.setClickable(!1);b.setClickable(!1);
(new createjs.Tween.get(g)).to({alpha:0},500);(new createjs.Tween.get(e)).to({y:c},400,createjs.Ease.backIn).call(function(){f.unload();a()})};this._onButNo=function(){d.setClickable(!1);b.setClickable(!1);(new createjs.Tween.get(g)).to({alpha:0},500);(new createjs.Tween.get(e)).to({y:c},400,createjs.Ease.backIn).call(function(){f.unload()})};this.unload=function(){d.unload();b.unload();s_oStage.removeChild(g);s_oStage.removeChild(e);g.removeAllEventListeners()};var f=this;this._init(a)}
function CEndPanel(a,c){var b,d,g,e,f,k,n,h,l;this._init=function(a,c){s_oGame.setPause(!0);l=new createjs.Shape;l.graphics.beginFill("#000").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);l.alpha=.5;l.on("mousedown",this.onMouseDown,this);b=createBitmap(a);var f=b.getBounds();b.regX=f.width/2;b.regY=f.height/2;b.x=CANVAS_WIDTH/2;b.y=CANVAS_HEIGHT/2;g=new createjs.Text(""," 47px "+PRIMARY_FONT,"#4ce700");g.x=CANVAS_WIDTH/2;g.y=CANVAS_HEIGHT/2-68;s_b2Players&&(g.y=CANVAS_HEIGHT/2-20);g.textAlign="center";
g.textBaseline="alphabetic";g.lineWidth=550;e=new createjs.Text(""," 32px "+PRIMARY_FONT,"#4ce700");e.x=CANVAS_WIDTH/2;e.y=CANVAS_HEIGHT/2+68;e.textAlign="center";e.textBaseline="alphabetic";e.lineWidth=550;d=new createjs.Container;d.alpha=0;d.visible=!1;d.addChild(l,b,void 0,e,void 0,g);s_oStage.addChild(d);f=s_oSpriteLibrary.getSprite("but_restart");k=new CGfxButton(CANVAS_WIDTH/2+100,CANVAS_HEIGHT/2+195,f,d);f=s_oSpriteLibrary.getSprite("but_home");n=new CGfxButton(CANVAS_WIDTH/2-100,CANVAS_HEIGHT/
2+195,f,d)};this.unload=function(){l.removeAllEventListeners()};this.onMouseDown=function(){};this._initListener=function(){n.addEventListener(ON_MOUSE_DOWN,this._onExit,this);k.addEventListener(ON_MOUSE_DOWN,this._onRestart,this)};this.show=function(a,b){h=0===b||s_b2Players?"win_panel":"game_over";playSound(h,1,!1);f=a;var c=b+1;0===b?g.text=TEXT_GAMEOVER:(f=a=0,g.text=TEXT_LOSE+c+TEXT_LOSE2);!0===s_b2Players?g.text=TEXT_WIN_2PLAYERS+c+TEXT_WIN_2PLAYERS_2:e.text=TEXT_SCORE+": "+a;d.visible=!0;var l=
this;createjs.Tween.get(d).to({alpha:1},500).call(function(){l._initListener()});s_bFriendly||($(s_oMain).trigger("save_score",f),$(s_oMain).trigger("show_interlevel_ad"),$(s_oMain).trigger("end_session"))};this._onExit=function(){stopSound(h);if(!s_bFriendly){var a="You collected <strong>"+f+" points</strong>!<br><br>Share your score with your friends!",b="My score is "+f+" points! Can you do better?";$(s_oMain).trigger("share_event",f,"200x200.jpg","Congratulations!",a,b)}s_oStage.removeChild(d);
s_oGame.unload();s_oMain.gotoMenu()};this._onRestart=function(){stopSound(h);s_oGame.unload();s_oMain.gotoGame();s_oStage.removeChild(d);if(!s_b2Players){var a="You collected <strong>"+f+" points</strong>!<br><br>Share your score with your friends!",b="My score is "+f+" points! Can you do better?";$(s_oMain).trigger("share_event",f,"200x200.jpg","Congratulations!",a,b)}};this._init(a,c);return this}
function CEdgeModel(a,c,b,d){var g=null,e=null,f=null,k=null,n=null;this._init=function(a,b,c,d){this.set(a,b,c,d)};this.destroy=function(){n=k=f=e=g=null};this.render=function(a){a.moveTo(g.x,g.y);a.lineTo(e.x,e.y)};this.toString=function(a){trace(a+" "+g.x+" "+g.y+" "+e.x+" "+e.y)};this.add=function(a){g.addV(a);e.addV(a)};this.editSize=function(a){g.subtract(a);e.addV(a);this.calculateNormal();this.calculateCenter()};this.set=function(a,b,c,d){g=new CVector2;e=new CVector2;g.set(a,b);e.set(c,d);
this.calculateNormal();this.calculateCenter()};this.moveY=function(a){g.add(0,a);e.add(0,a);this.calculateNormal();this.calculateCenter()};this.moveX=function(a){g.add(a,0);e.add(a,0);this.calculateNormal();this.calculateCenter()};this.scale=function(a){g.scalarProduct(a);e.scalarProduct(a);this.calculateNormal();this.calculateCenter()};this.calculateNormal=function(){n=null;n=new CVector2;n.setV(e);n.subtract(g);n.rot90CCW();n.normalize()};this.calculateCenter=function(){f=null;f=centerBetweenPointsV2(g,
e);k=new CVector2;k.setV(n);k.scalarProduct(5);k.addV(f)};this.getPointA=function(){return g};this.m_pCenter=function(){return f};this.getPointB=function(){return e};this.getNormal=function(){return n};this.renderNormal=function(a){a.moveTo(f.x,f.y);a.lineTo(k.x,k.y)};this.getLength=function(){return Math.sqrt(Math.pow(b-a,2)+Math.pow(d-c,2))};this._init(a,c,b,d);return this}
function CEdgeViewer(a,c,b,d,g,e){var f;this.init=function(a,b,c,d,g,e){a=a>c||b>d?b===d?(new createjs.Graphics).beginFill("#FFF").drawRect(c,d,g,e):(new createjs.Graphics).beginFill("#FFF").drawRect(c,d,e,g):b===d?(new createjs.Graphics).beginFill("#FFF").drawRect(a,b,g,e):(new createjs.Graphics).beginFill("#FFF").drawRect(a,b,e,g);f=new createjs.Shape(a);f.y=-e/2;s_oStage.addChild(f)};this.moveY=function(a){f.y+=a};this.moveX=function(a){f.x+=a};this.unload=function(){s_oStage.removeChild(f)};this.init(a,
c,b,d,g,e)}
function CEdge(a,c,b,d,g,e){var f,k,n,h,l,m,p;this.init=function(a,b,c,d,g){p=0;l=new CEdgeModel(a,b,c,d);var f=l.getLength();e&&(m=new CEdgeViewer(a,b,c,d,f,g))};this.getModel=function(){return l};this.moveY=function(a){e&&m.moveY(a);l.moveY(a)};this.moveX=function(a){e&&m.moveX(a);l.moveX(a)};this.changeSize=function(a){p+=a;n=l.getPointA().getX();h=l.getPointA().getY();f=l.getPointB().getX();k=l.getPointB().getY();l.destroy();l=new CEdgeModel(n+a,h,f-a,k);e&&(m.unload(),m=new CEdgeViewer(l.getPointA().getX(),l.getPointA().getY(),
l.getPointB().getX(),l.getPointB().getY(),l.getLength(),g))};this.resetSize=function(a){n=l.getPointA().getX();h=l.getPointA().getY();f=l.getPointB().getX();k=l.getPointB().getY();l.destroy();var b=0<p*a?0<a?-1:1:0>a?-1:1;l=0>p*a?new CEdgeModel(n-b*a*p,h,f+b*a*p,k):new CEdgeModel(n+b*a*p,h,f-b*a*p,k);p=0;e&&(m.unload(),m=new CEdgeViewer(l.getPointA().getX(),l.getPointA().getY(),l.getPointB().getX(),l.getPointB().getY(),l.getLength(),g))};this.init(a,c,b,d,g)}
function CVector2(a,c){var b,d;this._init=function(a,c){b=a;d=c};this.add=function(a,c){b+=a;d+=c};this.addV=function(a){b+=a.getX();d+=a.getY()};this.scalarDivision=function(a){b/=a;d/=a};this.subtract=function(a){b-=a.getX();d-=a.getY()};this.scalarProduct=function(a){b*=a;d*=a};this.invert=function(){b*=-1;d*=-1};this.dotProduct=function(a){return b*a.getX()+d*a.getY()};this.set=function(a,c){b=a;d=c};this.setV=function(a){b=a.getX();d=a.getY()};this.length=function(){return Math.sqrt(b*b+d*d)};
this.length2=function(){return b*b+d*d};this.normalize=function(){var a=this.length();0<a&&(b/=a,d/=a)};this.angleBetweenVectors=function(a){a=Math.acos(this.dotProduct(a)/(this.length()*a.length()));return!0===isNaN(a)?0:a};this.getNormalize=function(a){this.length();a.set(b,d);a.normalize()};this.rot90CCW=function(){var a=b;b=-d;d=a};this.rot90CW=function(){var a=b;b=d;d=-a};this.getRotCCW=function(a){a.set(b,d);a.rot90CCW()};this.getRotCW=function(a){a.set(b,d);a.rot90CW()};this.ceil=function(){b=
Math.ceil(b);d=Math.ceil(d)};this.round=function(){b=Math.round(b);d=Math.round(d)};this.toString=function(){return"Vector2: "+b+", "+d};this.print=function(){trace("Vector2: "+b+", "+d)};this.getX=function(){return b};this.getY=function(){return d};this.rotate=function(a){var c=b,f=d;b=c*Math.cos(a)+f*Math.sin(a);d=c*-Math.sin(a)+f*Math.cos(a)};this._init(a,c)}
function CBall(a,c,b,d,g){var e,f,k,n,h,l,m,p,q,r,t,v,B;this._init=function(a,b,c,d){k=new createjs.Container;k.x=a;k.y=b;B=new CBallTrajectory(y);n=createBitmap(c,c.width,c.height);n.regX=c.width/2;n.regY=c.height/2;k.addChild(n);h=new CVector2;h.set(k.x,k.y);l=new CVector2;l.set(0,0);p=d;e=a;f=b;q=.5*c.width;r=.5*q;t=q*q;m=new CVector2(0,0);y.addChild(k)};this.unload=function(){y.removeChild(k)};this.setVisible=function(a){k.visible=a};this.setPosition=function(a,b){k.x=a;k.y=b};this.resetPos=function(){k.x=
e;k.y=f;h.set(k.x,k.y);m.set(0,0)};this.setAngle=function(a){n.rotation=a};this.getHalfRadius=function(){return r};this.getX=function(){return k.x};this.setUserData=function(a){v=a};this.getUserData=function(){return v};this.getY=function(){return k.y};this.checkGoalTop=function(){return 0>=k.y?!0:!1};this.checkGoalBottom=function(){return k.y>=CANVAS_HEIGHT?!0:!1};this.scale=function(a){k.scaleX=a;k.scaleY=a};this.getScale=function(){return k.scaleX};this.type=function(){return BALL};this.vCurForce=
function(){return m};this.vPos=function(){return h};this.setPos=function(a){h.setV(a)};this.vPrevPos=function(){return l};this.getRadius=function(){return q};this.getRadiusQuadro=function(){return t};this.updateSpritePosition=function(){k.x=h.getX();k.y=h.getY()};this.isGoalKeeper=function(){return!1};this.getID=function(){return p};this.getChildIndex=function(){y.getChildIndex(k)};this.setChildIndex=function(a){y.setChildIndex(k,a)};this.getObject=function(){return k};this.updateTrajectory=function(){B.update(h)};
var y=g;this._init(a,c,b,d);return this}
function CSelectPlayers(){var a,c,b,d,g,e,f,k,n,h,l,m,p,q=null,r=null;this.init=function(){s_oSelectPlayers=this;f=new createjs.Container;s_oStage.addChild(f);var t=s_oSpriteLibrary.getSprite("bg_menu"),v=new createjs.Shape;v.graphics.beginFill("#000000").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);v.alpha=0;t=new createBitmap(t,t.width,t.height);f.addChild(t);f.addChild(v);t=s_oSpriteLibrary.getSprite("but_p1");k=new CGfxButton(CANVAS_WIDTH/2-225,CANVAS_HEIGHT/2,t,f);k.addEventListener(ON_MOUSE_DOWN,
function(){this.onSelectPlayer(!1)},this);t=s_oSpriteLibrary.getSprite("but_p2");n=new CGfxButton(CANVAS_WIDTH/2+225,CANVAS_HEIGHT/2,t,f);n.addEventListener(ON_MOUSE_DOWN,function(){this.onSelectPlayer(!0)},this);h=new createjs.Text(TEXT_SELECT_PLAYERS_MENU,"72px "+PRIMARY_FONT,"#4ce700");h.y=CANVAS_HEIGHT/2-300;h.x=CANVAS_WIDTH/2;h.textAlign="center";f.addChild(h);t=s_oSpriteLibrary.getSprite("but_exit");g=CANVAS_WIDTH-t.width/2-10;e=t.height/2+10;l=new CGfxButton(g,e,t,f);l.addEventListener(ON_MOUSE_UP,
this._onExit,this);if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)b=l.getX()-t.width-10,d=t.height/2+10,m=new CToggle(b,d,s_oSpriteLibrary.getSprite("audio_icon"),s_bAudioActive,f),m.addEventListener(ON_MOUSE_UP,this._onAudioToggle,this);v=window.document;t=v.documentElement;q=t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen;r=v.exitFullscreen||v.mozCancelFullScreen||v.webkitExitFullscreen||v.msExitFullscreen;!1===ENABLE_FULLSCREEN&&(q=!1);q&&screenfull.enabled&&
(t=s_oSpriteLibrary.getSprite("but_fullscreen"),a=t.width/4+10,c=t.height/2+10,p=new CToggle(a,c,t,s_bFullscreen,f),p.addEventListener(ON_MOUSE_UP,this._onFullscreenRelease,this));this.refreshButtonPos(s_iOffsetX,s_iOffsetY)};this.refreshButtonPos=function(f,h){l.setPosition(g-f,e+h);!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||m.setPosition(b-f,h+d);q&&screenfull.enabled&&p.setPosition(a+f,c+h)};this.onSelectPlayer=function(a){s_b2Players=a;this.unload();s_b2Players?(START_PROGRESSIVE_BALL_VELOCITY=
ARRAY_BALL_SPEED[1].start_speed,PROGRESSIVE_STEP_BALL_VELOCITY=ARRAY_BALL_SPEED[1].step,LIMIT_SPEED=ARRAY_BALL_SPEED[1].limit,INDEX_DIFFICULT=1,s_oMain.gotoGame()):s_oMain.gotoLevelMenu()};this.unload=function(){s_oStage.removeChild(f);s_oSelectPlayers};this._onAudioToggle=function(){Howler.mute(s_bAudioActive);s_bAudioActive=!s_bAudioActive};this.resetFullscreenBut=function(){q&&screenfull.enabled&&p.setActive(s_bFullscreen)};this._onFullscreenRelease=function(){s_bFullscreen?r.call(window.document):
q.call(window.document.documentElement);sizeHandler()};this._onExit=function(){this.unload();s_oMain.gotoMenu()};this.init()}var s_oSelectPlayers=null;
function CLevelBut(a,c,b,d,g,e){var f,k,n,h=[],l=[],m,p,q,r,t;this._init=function(a,b,c,d,e){k=[];n=[];q=new createjs.Container;v.addChild(q);var g=new createjs.SpriteSheet({images:[d],frames:{width:d.width/2,height:d.height,regX:d.width/2/2,regY:d.height/2},animations:{state_true:[0],state_false:[1]}});f=e;p=createSprite(g,"state_"+f,d.width/2/2,d.height/2,d.width/2,d.height);p.mouseEnabled=e;p.x=a;p.y=b;p.stop();!s_bMobile&&f&&(q.cursor="pointer");q.addChild(p);h.push(p);m=new createjs.Text(c,"80px "+
PRIMARY_FONT,"#fff");m.x=a-7;m.y=b+30;m.textAlign="center";m.textBaseline="alphabetic";m.lineWidth=200;q.addChild(m);e||(m.color="#404040");this._initListener()};this.unload=function(){q.off("mousedown",r);q.off("pressup",t);q.removeChild(p)};this._initListener=function(){r=q.on("mousedown",this.buttonDown);t=q.on("pressup",this.buttonRelease)};this.viewBut=function(a){q.addChild(a)};this.addEventListener=function(a,b,c){k[a]=b;n[a]=c};this.addEventListenerWithParams=function(a,b,c,d){k[a]=b;n[a]=
c;l=d};this.ifClickable=function(){return!0===q.mouseEnabled?1:0};this.setActive=function(a,b){f=b;h[a].gotoAndStop("state_"+f);h[a].mouseEnabled=!0;m.color=f?"#69b8d5":"#b4b4b4"};this.buttonRelease=function(){f&&(playSound("click",1,0),k[ON_MOUSE_UP]&&k[ON_MOUSE_UP].call(n[ON_MOUSE_UP],l))};this.buttonDown=function(){k[ON_MOUSE_DOWN]&&k[ON_MOUSE_DOWN].call(n[ON_MOUSE_DOWN],l)};this.setPosition=function(a,b){q.x=a;q.y=b};this.setVisible=function(a){q.visible=a};var v=e;this._init(a,c,b,d,g,e)}
function CLevelMenu(){var a,c,b,d,g,e,f,k,n,h,l,m,p,q,r=null,t=null,v,B,y,u=null,C=null,x;this._init=function(){var h=new createjs.Shape;h.graphics.beginFill("#000000").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);k=h.alpha=0;B=new createjs.Container;s_oStage.addChild(B);var z=createBitmap(s_oSpriteLibrary.getSprite("bg_menu"));B.addChild(z);B.addChild(h);x=[];x[0]=TEXT_EASY;x[1]=TEXT_MEDIUM;x[2]=TEXT_HARD;f=CANVAS_WIDTH/2;v=new createjs.Text(TEXT_SELECT_LEVEL,"70px "+PRIMARY_FONT,"#4ce700");v.x=f;v.textAlign=
"center";s_oStage.addChild(v);h=s_oSpriteLibrary.getSprite("but_exit");g=CANVAS_WIDTH-h.width/2-10;e=h.height/2+10;p=new CGfxButton(g,e,h,s_oStage);p.addEventListener(ON_MOUSE_UP,this._onExit,this);n=h.height;if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)b=p.getX()-h.width-10,d=h.height/2+10,q=new CToggle(b,d,s_oSpriteLibrary.getSprite("audio_icon"),s_bAudioActive,s_oStage),q.addEventListener(ON_MOUSE_UP,this._onAudioToggle,this);h=window.document;z=h.documentElement;u=z.requestFullscreen||z.mozRequestFullScreen||
z.webkitRequestFullScreen||z.msRequestFullscreen;C=h.exitFullscreen||h.mozCancelFullScreen||h.webkitExitFullscreen||h.msExitFullscreen;!1===ENABLE_FULLSCREEN&&(u=!1);u&&screenfull.enabled&&(h=s_oSpriteLibrary.getSprite("but_fullscreen"),a=h.width/4+10,c=h.height/2+10,y=new CToggle(a,c,h,s_bFullscreen,s_oStage),y.addEventListener(ON_MOUSE_UP,this._onFullscreenRelease,this));this._checkBoundLimits();l=[];h=CANVAS_WIDTH-2*EDGEBOARD_X;z=Math.floor(h/NUM_COLS_PAGE_LEVEL)/2;for(var D=0,G=0;G<NUM_COLS_PAGE_LEVEL;G++)l.push(D),
D+=2*z;m=[];this._createNewLevelPage(0,NUM_LEVELS);if(1<m.length){for(z=1;z<m.length;z++)m[z].visible=!1;r=new CGfxButton(CANVAS_WIDTH/2+300,CANVAS_HEIGHT/2+350,s_oSpriteLibrary.getSprite("arrow"),s_oStage);r.getButtonImage().rotation=90;r.addEventListener(ON_MOUSE_UP,this._onRight,this);t=new CGfxButton(CANVAS_WIDTH/2-300,CANVAS_HEIGHT/2+350,s_oSpriteLibrary.getSprite("arrow"),s_oStage);t.getButtonImage().rotation=-90;t.addEventListener(ON_MOUSE_UP,this._onLeft,this)}this.refreshButtonPos(s_iOffsetX,
s_iOffsetY);v.y=m[0].y-(175+Math.floor(h/NUM_COLS_PAGE_LEVEL)/2)};this.unload=function(){for(var a=0;a<h.length;a++)h[a].unload();!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||q.unload();u&&screenfull.enabled&&y.unload();p.unload();null!==t&&(t.unload(),r.unload());s_oLevelMenu=null};this.refreshButtonPos=function(f,h){p.setPosition(g-f,e+h);!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||q.setPosition(b-f,h+d);u&&screenfull.enabled&&y.setPosition(a+f,c+h)};this._checkBoundLimits=function(){for(var a=s_oSpriteLibrary.getSprite("but_easy"),
b=0,c=CANVAS_HEIGHT-2*EDGEBOARD_Y-2*n,d=0;b<c;)b+=a.height+20,d++;NUM_ROWS_PAGE_LEVEL>d&&(NUM_ROWS_PAGE_LEVEL=d);c=b=0;for(d=CANVAS_WIDTH-2*EDGEBOARD_X;c<d;)c+=a.width+5,b++;NUM_COLS_PAGE_LEVEL>b&&(NUM_COLS_PAGE_LEVEL=b)};this._createNewLevelPage=function(a,b){var c=new createjs.Container;B.addChild(c);m.push(c);h=[];for(var d=0,f=0,e=1,g=!1,k,n=a;n<b;n++){k=ARRAY_IMG_LEVEL[n];var p=new CTextButton(l[d]+k.width/4,f+k.height/2,k,x[n],PRIMARY_FONT,"#4ce700",50,c,"bottom");p.addEventListenerWithParams(ON_MOUSE_UP,
this._onButLevelRelease,this,n);h.push(p);d++;if(d===l.length&&n<b-1&&(d=0,f+=k.height+20,e++,e>NUM_ROWS_PAGE_LEVEL)){g=!0;break}}c.regX=c.getBounds().width/2;c.regY=c.getBounds().height/2;c.x=CANVAS_WIDTH/2+56;c.y=CANVAS_HEIGHT/2;g&&this._createNewLevelPage(n+1,b)};this._onRight=function(){m[k].visible=!1;k++;k>=m.length&&(k=0);m[k].visible=!0};this._onLeft=function(){m[k].visible=!1;k--;0>k&&(k=m.length-1);m[k].visible=!0};this._onButLevelRelease=function(a){START_PROGRESSIVE_BALL_VELOCITY=ARRAY_BALL_SPEED[a].start_speed;
PROGRESSIVE_STEP_BALL_VELOCITY=ARRAY_BALL_SPEED[a].step;LIMIT_SPEED=ARRAY_BALL_SPEED[a].limit;CPU_SPEED_STICKS=ARRAY_BALL_SPEED[a].cpu_speed;INDEX_DIFFICULT=a;s_oMain.gotoGame();this.unload()};this._onAudioToggle=function(){Howler.mute(s_bAudioActive);s_bAudioActive=!s_bAudioActive};this.resetFullscreenBut=function(){u&&screenfull.enabled&&y.setActive(s_bFullscreen)};this._onFullscreenRelease=function(){s_bFullscreen?C.call(window.document):u.call(window.document.documentElement);sizeHandler()};this._onExit=
function(){this.unload();s_oMain.gotoMenu()};s_oLevelMenu=this;this._init()}var s_oLevelMenu=null;
function CPanelTutorial(a){var c,b,d,g,e,f,k,n;this.init=function(){a&&s_oGame.setStartGame(!1);n=ADVANCED_MODE?3:2;var h=new createjs.Shape;h.graphics.beginFill("#000000").drawRect(-(CANVAS_WIDTH/2),-(CANVAS_HEIGHT/2),CANVAS_WIDTH,CANVAS_HEIGHT);h.alpha=.7;h.on("mousedown",this.onOver,this);k=new createjs.Container;f=0;c=new createjs.Container;c.x=CANVAS_WIDTH/2;c.y=CANVAS_HEIGHT/2;c.addChild(h);c.alpha=0;h=s_oSpriteLibrary.getSprite("msg_box");b=new createBitmap(h);b.regX=h.width/2;b.regY=h.height/
2;b.alpha=.8;c.addChild(b);s_oStage.addChild(c);h=s_oSpriteLibrary.getSprite("skip_arrow");d=new CGfxButton(350,0,h,c);d.addEventListener(ON_MOUSE_DOWN,this.onButNext,this);h=s_oSpriteLibrary.getSprite("skip_arrow_left");g=new CGfxButton(-350,0,h,c);g.addEventListener(ON_MOUSE_DOWN,this.onButBack,this);e=new CGfxButton(0,c.getBounds().height/2,s_oSpriteLibrary.getSprite("but_next"),c);e.addEventListener(ON_MOUSE_DOWN,this.onButSkip,this);this.loadPage(f);(new createjs.Tween.get(c)).to({alpha:1},500)};
this.loadPage=function(a){switch(a){case 0:a=new createjs.Text(TEXT_TUTORIAL_1," 31px "+PRIMARY_FONT,"#4ce700");a.lineWidth=500;a.y=-150;a.textAlign="center";if(s_bMobile)a.text=TEXT_TUTORIAL_1_3,a.y+=100;else if(s_b2Players){a.text=TEXT_TUTORIAL_1_2;var b=s_oSpriteLibrary.getSprite("key_w");var d=new createBitmap(b,b.width,b.height);d.x=-240;d.y=40;b=s_oSpriteLibrary.getSprite("key_s");var f=new createBitmap(b,b.width,b.height);f.x=-140;f.y=40;b=s_oSpriteLibrary.getSprite("key_up");var e=new createBitmap(b,
b.width,b.height);e.x=159;e.y=40;b=s_oSpriteLibrary.getSprite("key_down");b=new createBitmap(b,b.width,b.height);b.x=61;b.y=40;var g=new createjs.Text(TEXT_TUTORIAL_PLAYER+" 1"," 40px "+PRIMARY_FONT,"#4ce700");g.textAlign="center";g.x=-147;g.y=-20;var h=new createjs.Text(TEXT_TUTORIAL_PLAYER+" 2"," 40px "+PRIMARY_FONT,"#4ce700");h.textAlign="center";h.x=152;h.y=-20;k.addChild(e,b,g,h)}else b=s_oSpriteLibrary.getSprite("key_w"),d=new createBitmap(b,b.width,b.height),d.x=-170,d.y=0,b=s_oSpriteLibrary.getSprite("key_s"),
f=new createBitmap(b,b.width,b.height),f.x=90,f.y=0;k.addChild(a,d,f);c.addChild(k);break;case 1:a=s_bMobile?new createjs.Text(TEXT_TUTORIAL_4," 31px "+PRIMARY_FONT,"#4ce700"):new createjs.Text(TEXT_TUTORIAL_3," 31px "+PRIMARY_FONT,"#4ce700");a.lineWidth=500;a.y=-140;a.textAlign="center";b=s_oSpriteLibrary.getSprite("but_kickoff");d=new createBitmap(b,b.width,b.height);d.x=-b.width/2;d.y=0;k.addChild(a,d);break;case 2:ADVANCED_MODE?(a=new createjs.Text(TEXT_TUTORIAL_5," 31px "+PRIMARY_FONT,"#4ce700"),
a.lineWidth=500,a.lineHeight=40):(a=new createjs.Text(TEXT_TUTORIAL_2," 31px "+PRIMARY_FONT,"#4ce700"),a.lineWidth=500);a.y=-65;a.textAlign="center";k.addChild(a);break;case 3:a=new createjs.Text(TEXT_TUTORIAL_2," 31px "+PRIMARY_FONT,"#4ce700"),a.lineWidth=500,a.y=-65,a.textAlign="center",k.addChild(a)}};this.onButNext=function(){f===n?f=0:f++;k.removeAllChildren();this.loadPage(f)};this.onButBack=function(){0===f?f=n:f--;k.removeAllChildren();this.loadPage(f)};this.onButSkip=function(){(new createjs.Tween.get(c)).to({alpha:0},
500).call(function(){s_oStage.removeChild(c);a&&s_oGame.setStartGame(!0)})};this.onOver=function(){};this.init()}
function CPause(a){var c,b,d,g,e;this.init=function(a){s_oGame.setPause(!0);d=new createjs.Container;g=a;g.addChild(d);c=new createjs.Shape;c.graphics.beginFill("#000000").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);c.alpha=.6;c.on("mousedown",function(){});a=s_oSpriteLibrary.getSprite("msg_box");e=new createBitmap(a,a.width,a.height);e.x=CANVAS_WIDTH/2;e.y=CANVAS_HEIGHT/2;e.regX=a.width/2;e.regY=a.height/2;e.scaleX=.8;e.scaleY=.8;d.addChild(e);b=new createjs.Text(TEXT_PAUSE,"100px "+PRIMARY_FONT,"#4ce700");
b.textBaseline="middle";b.textAlign="center";b.x=CANVAS_WIDTH/2;b.y=CANVAS_HEIGHT/2;d.addChild(c,e,b);b.alpha=1};this.onExit=function(){d.removeAllChildren();s_oStage.removeChild(d);s_oGame.setPause(!1)};this.init(a)}
var CANVAS_WIDTH=1120,CANVAS_HEIGHT=1400,EDGEBOARD_X=170,EDGEBOARD_Y=0,PRIMARY_FONT="comfortaabold",FPS=30,FPS_TIME=1E3/FPS,DISABLE_SOUND_MOBILE=!1,LARGE_BONUS=0,SHORT_MALUS=1,SUPER_SHOT=2,DOUBLE_BALLS=3,CRAZY_BALL=4,MIN_MS_SPAWN_POWER_UP=1E4,MAX_MS_SPAWN_POWER_UP=15E3,MS_STRONG_SHOT_POWER_UP=6E3,MS_CRAZY_BALL=6E3,MS_SPAWN_TIME_BALL_TRAJECTORY=100,BALL_TRAJ_INSTANCE=99,MS_TIME_FADE_BALL_TRAJ=300,SUPER_SHOT_POWER=4,MIN_PLAYER_FORCE_VEL=.1,BALL_SPRITE_ANIM_MULTIPLIER=.4,BALL=2,LEFT_SIDE=3,RIGHT_SIDE=
4,MIN_DIST_COLLISION_DETECT=1E3,BUT_LEVEL_WIDTH=95,BUT_LEVEL_HEIGHT=84,NUM_ROWS_PAGE_LEVEL=1,NUM_COLS_PAGE_LEVEL=3,NUM_LEVELS=3,s_b2Players,s_bFriendly,s_bFirstPlay=!0,s_bFirstMultiPlayer=!0,BLUE_STICK=0,RED_STICK=1,PLAYER_SPEED_STICKS=10,CPU_SPEED_STICKS=PLAYER_SPEED_STICKS,POINTS_TO_WIN,TIME_GOAL_ANIMATION=1E3,ARRAY_BALL_SPEED=[{start_speed:.6,step:.1,limit:2,cpu_speed:4},{start_speed:.7,step:.1,limit:2.8,cpu_speed:7},{start_speed:.8,step:.2,limit:3.2,cpu_speed:10}],ARRAY_IMG_LEVEL=[],INDEX_DIFFICULT,
ADVANCED_MODE,STATE_LOADING=0,STATE_MENU=1,STATE_HELP=1,STATE_GAME=3,STATE_LEVEL_SELECTION=4,ON_MOUSE_DOWN=0,ON_MOUSE_UP=1,ON_MOUSE_OVER=2,ON_MOUSE_OUT=3,ON_DRAG_START=4,ON_DRAG_END=5,MS_AFTER_GOAL=1500,Y_OFFBOARD_MESSAGES_UP=-300,Y_OFFBOARD_MESSAGES_DOWN=CANVAS_HEIGHT+300,Y_MESSAGES_ON_BOARD_UP=262,Y_MESSAGES_ON_BOARD_DOWN=CANVAS_HEIGHT/2+262,PLAYER_1=0,PLAYER_2=1,OCCURRENCES_LARGE_BONUS,OCCURRENCES_SHORT_MALUS,OCCURRENCES_SUPER_SHOTS,OCCURRENCES_DOUBLE_BALLS,OCCURRENCES_CRAZY_BALL,PHYSICS_ITERATIONS=
20,ANGLE_CRAZY_BALL=20,STEP_UPDATE_CRAZY_BALL=2,MIN_VEL_COLLISION_BALL_EDGE=3,VARIABLE_VEL_COLLISION_BALL_EDGE=1,START_PROGRESSIVE_BALL_VELOCITY=1.6,PROGRESSIVE_STEP_BALL_VELOCITY=.2,LIMIT_SPEED=4.5,MAX_ANGLE_ROOT_COLLISION_BALL_EDGE=30,QUANTITY_ROOT=0,BALL_START_VELOCITY=.5,STICK_ACCELLERATION=1.5,STICK_FRICTION=.75,VERTICAL_LINE_LEFT=0,VERTICAL_LINE_RIGHT=1,HORIZONTAL_LINE_UP=0,HORIZONTAL_LINE_DOWN=1,GOALKEEPER=0,DEFENDER=1,MIDFIELDER=2,STRIKER=3,ENABLE_FULLSCREEN,ENABLE_CHECK_ORIENTATION,AD_SHOW_COUNTER;